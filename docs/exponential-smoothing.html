<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 Exponential Smoothing | Forecasting: Principles and Practice (3rd ed)</title>
  <meta name="description" content="Chapter 8 Exponential Smoothing | Forecasting: Principles and Practice (3rd ed)" />
  <meta name="generator" content="bookdown 0.41 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 Exponential Smoothing | Forecasting: Principles and Practice (3rd ed)" />
  <meta property="og:type" content="book" />
  
  
  <meta name="github-repo" content="https://github.com/daluchkin/fpp3_notes" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 Exponential Smoothing | Forecasting: Principles and Practice (3rd ed)" />
  
  
  

<meta name="author" content="Dmitry Luchkin" />


<meta name="date" content="2024-12-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="time-series-regression-models.html"/>
<link rel="next" href="arima-models.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://otexts.com/fpp3/">Forecasting: Principles and Practice (3rd ed)</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>1</b> Getting started</a>
<ul>
<li class="chapter" data-level="1.1" data-path="getting-started.html"><a href="getting-started.html#what-can-be-forecast"><i class="fa fa-check"></i><b>1.1</b> What can be forecast?</a></li>
<li class="chapter" data-level="1.2" data-path="getting-started.html"><a href="getting-started.html#forecasting-goals-and-planning"><i class="fa fa-check"></i><b>1.2</b> Forecasting, goals and planning</a></li>
<li class="chapter" data-level="1.3" data-path="getting-started.html"><a href="getting-started.html#determining-what-to-forecast"><i class="fa fa-check"></i><b>1.3</b> Determining what to forecast</a></li>
<li class="chapter" data-level="1.4" data-path="getting-started.html"><a href="getting-started.html#forecasting-data-and-methods"><i class="fa fa-check"></i><b>1.4</b> Forecasting data and methods</a></li>
<li class="chapter" data-level="1.5" data-path="getting-started.html"><a href="getting-started.html#some-case-studies"><i class="fa fa-check"></i><b>1.5</b> Some case studies</a></li>
<li class="chapter" data-level="1.6" data-path="getting-started.html"><a href="getting-started.html#the-basic-steps-in-a-forecasting-task"><i class="fa fa-check"></i><b>1.6</b> The basic steps in a forecasting task</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="getting-started.html"><a href="getting-started.html#summary-five-basic-steps-of-forecasting"><i class="fa fa-check"></i><b>1.6.1</b> Summary: Five Basic Steps of Forecasting</a></li>
<li class="chapter" data-level="1.6.2" data-path="getting-started.html"><a href="getting-started.html#summary-five-basic-steps-of-forecasting-1"><i class="fa fa-check"></i><b>1.6.2</b> Summary: Five Basic Steps of Forecasting</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="getting-started.html"><a href="getting-started.html#the-statistical-forecasting-perspective"><i class="fa fa-check"></i><b>1.7</b> The statistical forecasting perspective</a></li>
<li class="chapter" data-level="1.8" data-path="getting-started.html"><a href="getting-started.html#excercises"><i class="fa fa-check"></i><b>1.8</b> Excercises</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="time-series-graphics.html"><a href="time-series-graphics.html"><i class="fa fa-check"></i><b>2</b> Time series graphics</a>
<ul>
<li class="chapter" data-level="2.1" data-path="time-series-graphics.html"><a href="time-series-graphics.html#tsibble-object"><i class="fa fa-check"></i><b>2.1</b> <code>tsibble</code> object</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="time-series-graphics.html"><a href="time-series-graphics.html#the-index-variable"><i class="fa fa-check"></i><b>2.1.1</b> The index variable</a></li>
<li class="chapter" data-level="2.1.2" data-path="time-series-graphics.html"><a href="time-series-graphics.html#the-key-variable"><i class="fa fa-check"></i><b>2.1.2</b> The key variable</a></li>
<li class="chapter" data-level="2.1.3" data-path="time-series-graphics.html"><a href="time-series-graphics.html#working-with-tsibble-object"><i class="fa fa-check"></i><b>2.1.3</b> Working with <code>tsibble</code> object</a></li>
<li class="chapter" data-level="2.1.4" data-path="time-series-graphics.html"><a href="time-series-graphics.html#read-a-csv-file-and-convert-to-a-tsibble"><i class="fa fa-check"></i><b>2.1.4</b> Read a csv file and convert to a tsibble</a></li>
<li class="chapter" data-level="2.1.5" data-path="time-series-graphics.html"><a href="time-series-graphics.html#the-seasonal-period"><i class="fa fa-check"></i><b>2.1.5</b> The seasonal period</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="time-series-graphics.html"><a href="time-series-graphics.html#time-plot"><i class="fa fa-check"></i><b>2.2</b> Time plot</a></li>
<li class="chapter" data-level="2.3" data-path="time-series-graphics.html"><a href="time-series-graphics.html#time-series-patterns"><i class="fa fa-check"></i><b>2.3</b> Time series patterns</a></li>
<li class="chapter" data-level="2.4" data-path="time-series-graphics.html"><a href="time-series-graphics.html#seasonal-plots"><i class="fa fa-check"></i><b>2.4</b> Seasonal plots</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="time-series-graphics.html"><a href="time-series-graphics.html#multiple-seasonal-periods"><i class="fa fa-check"></i><b>2.4.1</b> Multiple seasonal periods</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="time-series-graphics.html"><a href="time-series-graphics.html#seasonal-subseries-plots"><i class="fa fa-check"></i><b>2.5</b> Seasonal subseries plots</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="time-series-graphics.html"><a href="time-series-graphics.html#example-australian-holiday-tourism"><i class="fa fa-check"></i><b>2.5.1</b> Example: Australian holiday tourism</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="time-series-graphics.html"><a href="time-series-graphics.html#scatterplots"><i class="fa fa-check"></i><b>2.6</b> Scatterplots</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="time-series-graphics.html"><a href="time-series-graphics.html#correlation"><i class="fa fa-check"></i><b>2.6.1</b> Correlation</a></li>
<li class="chapter" data-level="2.6.2" data-path="time-series-graphics.html"><a href="time-series-graphics.html#scatterplot-matrices"><i class="fa fa-check"></i><b>2.6.2</b> Scatterplot matrices</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="time-series-graphics.html"><a href="time-series-graphics.html#lag-plots"><i class="fa fa-check"></i><b>2.7</b> Lag plots</a></li>
<li class="chapter" data-level="2.8" data-path="time-series-graphics.html"><a href="time-series-graphics.html#autocorrelation"><i class="fa fa-check"></i><b>2.8</b> Autocorrelation</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="time-series-graphics.html"><a href="time-series-graphics.html#trend-and-seasonality-in-acf-plots"><i class="fa fa-check"></i><b>2.8.1</b> Trend and seasonality in ACF plots</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="time-series-graphics.html"><a href="time-series-graphics.html#white-moise"><i class="fa fa-check"></i><b>2.9</b> White moise</a></li>
<li class="chapter" data-level="2.10" data-path="time-series-graphics.html"><a href="time-series-graphics.html#excercises-1"><i class="fa fa-check"></i><b>2.10</b> Excercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="time-series-decomposition.html"><a href="time-series-decomposition.html"><i class="fa fa-check"></i><b>3</b> Time series decomposition</a>
<ul>
<li class="chapter" data-level="3.1" data-path="time-series-decomposition.html"><a href="time-series-decomposition.html#transformations-and-adjustments"><i class="fa fa-check"></i><b>3.1</b> Transformations and adjustments</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="time-series-decomposition.html"><a href="time-series-decomposition.html#calendar-adjustments"><i class="fa fa-check"></i><b>3.1.1</b> Calendar adjustments</a></li>
<li class="chapter" data-level="3.1.2" data-path="time-series-decomposition.html"><a href="time-series-decomposition.html#population-adjustments"><i class="fa fa-check"></i><b>3.1.2</b> Population adjustments</a></li>
<li class="chapter" data-level="3.1.3" data-path="time-series-decomposition.html"><a href="time-series-decomposition.html#inflation-adjustments"><i class="fa fa-check"></i><b>3.1.3</b> Inflation adjustments</a></li>
<li class="chapter" data-level="3.1.4" data-path="time-series-decomposition.html"><a href="time-series-decomposition.html#mathematical-transformations"><i class="fa fa-check"></i><b>3.1.4</b> Mathematical transformations</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="time-series-decomposition.html"><a href="time-series-decomposition.html#time-series-components"><i class="fa fa-check"></i><b>3.2</b> Time series components</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="time-series-decomposition.html"><a href="time-series-decomposition.html#seasonally-adjusted-data"><i class="fa fa-check"></i><b>3.2.1</b> Seasonally adjusted data</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="time-series-decomposition.html"><a href="time-series-decomposition.html#moving-averages"><i class="fa fa-check"></i><b>3.3</b> Moving averages</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="time-series-decomposition.html"><a href="time-series-decomposition.html#moving-average-smoothing"><i class="fa fa-check"></i><b>3.3.1</b> Moving average smoothing</a></li>
<li class="chapter" data-level="3.3.2" data-path="time-series-decomposition.html"><a href="time-series-decomposition.html#moving-averages-of-moving-averages"><i class="fa fa-check"></i><b>3.3.2</b> Moving averages of moving averages</a></li>
<li class="chapter" data-level="3.3.3" data-path="time-series-decomposition.html"><a href="time-series-decomposition.html#estimating-the-trend-cycle-with-seasonal-data"><i class="fa fa-check"></i><b>3.3.3</b> Estimating the trend-cycle with seasonal data</a></li>
<li class="chapter" data-level="3.3.4" data-path="time-series-decomposition.html"><a href="time-series-decomposition.html#example-employment-in-the-us-retail-sector"><i class="fa fa-check"></i><b>3.3.4</b> Example: Employment in the US retail sector</a></li>
<li class="chapter" data-level="3.3.5" data-path="time-series-decomposition.html"><a href="time-series-decomposition.html#weighted-moving-averages"><i class="fa fa-check"></i><b>3.3.5</b> Weighted moving averages</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="time-series-decomposition.html"><a href="time-series-decomposition.html#classical-decomposition"><i class="fa fa-check"></i><b>3.4</b> Classical decomposition</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="time-series-decomposition.html"><a href="time-series-decomposition.html#additive-decomposition"><i class="fa fa-check"></i><b>3.4.1</b> Additive decomposition</a></li>
<li class="chapter" data-level="3.4.2" data-path="time-series-decomposition.html"><a href="time-series-decomposition.html#multiplicative-decomposition"><i class="fa fa-check"></i><b>3.4.2</b> Multiplicative decomposition</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="time-series-decomposition.html"><a href="time-series-decomposition.html#excercises-2"><i class="fa fa-check"></i><b>3.5</b> Excercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="time-series-features.html"><a href="time-series-features.html"><i class="fa fa-check"></i><b>4</b> Time series features</a>
<ul>
<li class="chapter" data-level="4.1" data-path="time-series-features.html"><a href="time-series-features.html#some-simple-statistics"><i class="fa fa-check"></i><b>4.1</b> Some simple statistics</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="time-series-features.html"><a href="time-series-features.html#acf-features"><i class="fa fa-check"></i><b>4.1.1</b> ACF features</a></li>
<li class="chapter" data-level="4.1.2" data-path="time-series-features.html"><a href="time-series-features.html#stl-features"><i class="fa fa-check"></i><b>4.1.2</b> STL features</a></li>
<li class="chapter" data-level="4.1.3" data-path="time-series-features.html"><a href="time-series-features.html#other-features"><i class="fa fa-check"></i><b>4.1.3</b> Other features</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="time-series-features.html"><a href="time-series-features.html#exploring-australian-tourism-data"><i class="fa fa-check"></i><b>4.2</b> Exploring Australian tourism data</a></li>
<li class="chapter" data-level="4.3" data-path="time-series-features.html"><a href="time-series-features.html#exercises"><i class="fa fa-check"></i><b>4.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html"><i class="fa fa-check"></i><b>5</b> The forecaster’s toolbox</a>
<ul>
<li class="chapter" data-level="5.1" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#a-tidy-forecasting-workflow"><i class="fa fa-check"></i><b>5.1</b> A tidy forecasting workflow</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#data-preparation-tidy"><i class="fa fa-check"></i><b>5.1.1</b> Data preparation (tidy)</a></li>
<li class="chapter" data-level="5.1.2" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#plot-the-data-visualise"><i class="fa fa-check"></i><b>5.1.2</b> Plot the data (visualise)</a></li>
<li class="chapter" data-level="5.1.3" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#define-a-model-specify"><i class="fa fa-check"></i><b>5.1.3</b> Define a model (specify)</a></li>
<li class="chapter" data-level="5.1.4" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#train-the-model-estimate"><i class="fa fa-check"></i><b>5.1.4</b> Train the model (estimate)</a></li>
<li class="chapter" data-level="5.1.5" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#check-model-performance-evaluate"><i class="fa fa-check"></i><b>5.1.5</b> Check model performance (evaluate)</a></li>
<li class="chapter" data-level="5.1.6" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#produce-forecasts-forecast"><i class="fa fa-check"></i><b>5.1.6</b> Produce forecasts (forecast)</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#some-simple-forecasting-methods"><i class="fa fa-check"></i><b>5.2</b> Some simple forecasting methods</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#mean-method"><i class="fa fa-check"></i><b>5.2.1</b> Mean method</a></li>
<li class="chapter" data-level="5.2.2" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#naiïve-method"><i class="fa fa-check"></i><b>5.2.2</b> Naiïve method</a></li>
<li class="chapter" data-level="5.2.3" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#seasonal-naïve-method"><i class="fa fa-check"></i><b>5.2.3</b> Seasonal naïve method</a></li>
<li class="chapter" data-level="5.2.4" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#drift-method"><i class="fa fa-check"></i><b>5.2.4</b> Drift method</a></li>
<li class="chapter" data-level="5.2.5" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#model-fitting"><i class="fa fa-check"></i><b>5.2.5</b> Model fitting</a></li>
<li class="chapter" data-level="5.2.6" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#producing-forecasts"><i class="fa fa-check"></i><b>5.2.6</b> Producing forecasts</a></li>
<li class="chapter" data-level="5.2.7" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#visualising-forecasts"><i class="fa fa-check"></i><b>5.2.7</b> Visualising forecasts</a></li>
<li class="chapter" data-level="5.2.8" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#example-facebook-closing-stock-price"><i class="fa fa-check"></i><b>5.2.8</b> Example: Facebook closing stock price</a></li>
<li class="chapter" data-level="5.2.9" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#example-australian-quarterly-beer-production"><i class="fa fa-check"></i><b>5.2.9</b> Example: Australian quarterly beer production</a></li>
<li class="chapter" data-level="5.2.10" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#example-googles-daily-closing-stock-price"><i class="fa fa-check"></i><b>5.2.10</b> Example: Google’s daily closing stock price</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#fitted-values-and-residuals"><i class="fa fa-check"></i><b>5.3</b> Fitted values and residuals</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#fitted-values"><i class="fa fa-check"></i><b>5.3.1</b> Fitted values</a></li>
<li class="chapter" data-level="5.3.2" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#residuals"><i class="fa fa-check"></i><b>5.3.2</b> Residuals</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#residual-diagnostics"><i class="fa fa-check"></i><b>5.4</b> Residual diagnostics</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#acf-of-residuals"><i class="fa fa-check"></i><b>5.4.1</b> ACF of residuals</a></li>
<li class="chapter" data-level="5.4.2" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#example-forecasting-google-daily-closing-stock-prices"><i class="fa fa-check"></i><b>5.4.2</b> Example: Forecasting Google daily closing stock prices</a></li>
<li class="chapter" data-level="5.4.3" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#portmanteau-tests-for-autocorrelation"><i class="fa fa-check"></i><b>5.4.3</b> Portmanteau tests for autocorrelation</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#distributional-forecasts-and-prediction-intervals"><i class="fa fa-check"></i><b>5.5</b> Distributional forecasts and prediction intervals</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#forecast-distributions"><i class="fa fa-check"></i><b>5.5.1</b> Forecast distributions</a></li>
<li class="chapter" data-level="5.5.2" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#prediction-intervals"><i class="fa fa-check"></i><b>5.5.2</b> Prediction intervals</a></li>
<li class="chapter" data-level="5.5.3" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#one-step-prediction-intervals"><i class="fa fa-check"></i><b>5.5.3</b> One-step prediction intervals</a></li>
<li class="chapter" data-level="5.5.4" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#multi-step-prediction-intervals"><i class="fa fa-check"></i><b>5.5.4</b> Multi-step prediction intervals</a></li>
<li class="chapter" data-level="5.5.5" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#benchmark-methods"><i class="fa fa-check"></i><b>5.5.5</b> Benchmark methods</a></li>
<li class="chapter" data-level="5.5.6" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#prediction-intervals-from-bootstrapped-residuals"><i class="fa fa-check"></i><b>5.5.6</b> Prediction intervals from bootstrapped residuals</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#forecasting-using-transformations"><i class="fa fa-check"></i><b>5.6</b> Forecasting using transformations</a></li>
<li class="chapter" data-level="5.7" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#forecasting-with-decomposition"><i class="fa fa-check"></i><b>5.7</b> Forecasting with decomposition</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#example-employment-in-the-us-retail-sector-1"><i class="fa fa-check"></i><b>5.7.1</b> Example: Employment in the US retail sector</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#evaluating-point-forecast-accuracy"><i class="fa fa-check"></i><b>5.8</b> Evaluating point forecast accuracy</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#training-and-test-sets"><i class="fa fa-check"></i><b>5.8.1</b> Training and test sets</a></li>
<li class="chapter" data-level="5.8.2" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#functions-to-subset-a-time-series"><i class="fa fa-check"></i><b>5.8.2</b> Functions to subset a time series</a></li>
<li class="chapter" data-level="5.8.3" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#forecast-errors"><i class="fa fa-check"></i><b>5.8.3</b> Forecast errors</a></li>
<li class="chapter" data-level="5.8.4" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#scale-dependent-errors"><i class="fa fa-check"></i><b>5.8.4</b> Scale-dependent errors</a></li>
<li class="chapter" data-level="5.8.5" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#percentage-errors"><i class="fa fa-check"></i><b>5.8.5</b> Percentage errors</a></li>
<li class="chapter" data-level="5.8.6" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#scaled-errors"><i class="fa fa-check"></i><b>5.8.6</b> Scaled errors</a></li>
<li class="chapter" data-level="5.8.7" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#examples"><i class="fa fa-check"></i><b>5.8.7</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#evaluating-distributional-forecast-accuracy"><i class="fa fa-check"></i><b>5.9</b> Evaluating distributional forecast accuracy</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#quantile-scores"><i class="fa fa-check"></i><b>5.9.1</b> Quantile scores</a></li>
<li class="chapter" data-level="5.9.2" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#winkler-score"><i class="fa fa-check"></i><b>5.9.2</b> Winkler Score</a></li>
<li class="chapter" data-level="5.9.3" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#continuous-ranked-probability-score"><i class="fa fa-check"></i><b>5.9.3</b> Continuous Ranked Probability Score</a></li>
<li class="chapter" data-level="5.9.4" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#scale-free-comparisons-using-skill-scores"><i class="fa fa-check"></i><b>5.9.4</b> Scale-free comparisons using skill scores</a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#time-series-cross-validation"><i class="fa fa-check"></i><b>5.10</b> Time series cross-validation</a>
<ul>
<li class="chapter" data-level="5.10.1" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#example-forecast-horizon-accuracy-with-cross-validation"><i class="fa fa-check"></i><b>5.10.1</b> Example: Forecast horizon accuracy with cross-validation</a></li>
</ul></li>
<li class="chapter" data-level="5.11" data-path="the-forecasters-toolbox.html"><a href="the-forecasters-toolbox.html#exercises-1"><i class="fa fa-check"></i><b>5.11</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="judgmental-forecasts.html"><a href="judgmental-forecasts.html"><i class="fa fa-check"></i><b>6</b> Judgmental forecasts</a>
<ul>
<li class="chapter" data-level="6.1" data-path="judgmental-forecasts.html"><a href="judgmental-forecasts.html#beware-of-limitations"><i class="fa fa-check"></i><b>6.1</b> Beware of limitations</a></li>
<li class="chapter" data-level="6.2" data-path="judgmental-forecasts.html"><a href="judgmental-forecasts.html#key-principles"><i class="fa fa-check"></i><b>6.2</b> Key principles</a></li>
<li class="chapter" data-level="6.3" data-path="judgmental-forecasts.html"><a href="judgmental-forecasts.html#the-delphi-method"><i class="fa fa-check"></i><b>6.3</b> The Delphi method</a></li>
<li class="chapter" data-level="6.4" data-path="judgmental-forecasts.html"><a href="judgmental-forecasts.html#forecasting-by-analogy"><i class="fa fa-check"></i><b>6.4</b> Forecasting by analogy</a></li>
<li class="chapter" data-level="6.5" data-path="judgmental-forecasts.html"><a href="judgmental-forecasts.html#scenario-forecasting"><i class="fa fa-check"></i><b>6.5</b> Scenario forecasting</a></li>
<li class="chapter" data-level="6.6" data-path="judgmental-forecasts.html"><a href="judgmental-forecasts.html#new-product-forecasting"><i class="fa fa-check"></i><b>6.6</b> New product forecasting</a></li>
<li class="chapter" data-level="6.7" data-path="judgmental-forecasts.html"><a href="judgmental-forecasts.html#judgmental-adjustments"><i class="fa fa-check"></i><b>6.7</b> Judgmental adjustments</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html"><i class="fa fa-check"></i><b>7</b> Time series regression models</a>
<ul>
<li class="chapter" data-level="7.1" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#the-linear-model"><i class="fa fa-check"></i><b>7.1</b> The linear model</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#simple-linear-regression"><i class="fa fa-check"></i><b>7.1.1</b> Simple linear regression</a></li>
<li class="chapter" data-level="7.1.2" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#multiple-linear-regression"><i class="fa fa-check"></i><b>7.1.2</b> Multiple linear regression</a></li>
<li class="chapter" data-level="7.1.3" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#assumptions"><i class="fa fa-check"></i><b>7.1.3</b> Assumptions</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#least-squares-estimation"><i class="fa fa-check"></i><b>7.2</b> Least squares estimation</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#fitted-values-1"><i class="fa fa-check"></i><b>7.2.1</b> Fitted values</a></li>
<li class="chapter" data-level="7.2.2" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#goodness-of-fit"><i class="fa fa-check"></i><b>7.2.2</b> Goodness-of-fit</a></li>
<li class="chapter" data-level="7.2.3" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#standard-error-of-the-regression"><i class="fa fa-check"></i><b>7.2.3</b> Standard error of the regression</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#evaluating-the-regression-model"><i class="fa fa-check"></i><b>7.3</b> Evaluating the regression model</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#acf-plot-of-residuals"><i class="fa fa-check"></i><b>7.3.1</b> ACF plot of residuals</a></li>
<li class="chapter" data-level="7.3.2" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#histogram-of-residuals"><i class="fa fa-check"></i><b>7.3.2</b> Histogram of residuals</a></li>
<li class="chapter" data-level="7.3.3" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#residual-plots-against-predictors"><i class="fa fa-check"></i><b>7.3.3</b> Residual plots against predictors</a></li>
<li class="chapter" data-level="7.3.4" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#residual-plots-against-fitted-values"><i class="fa fa-check"></i><b>7.3.4</b> Residual plots against fitted values</a></li>
<li class="chapter" data-level="7.3.5" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#outliers-and-influential-observations"><i class="fa fa-check"></i><b>7.3.5</b> Outliers and influential observations</a></li>
<li class="chapter" data-level="7.3.6" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#spurious-regression"><i class="fa fa-check"></i><b>7.3.6</b> Spurious regression</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#some-useful-predictors"><i class="fa fa-check"></i><b>7.4</b> Some useful predictors</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#trend"><i class="fa fa-check"></i><b>7.4.1</b> Trend</a></li>
<li class="chapter" data-level="7.4.2" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#dummy-variables"><i class="fa fa-check"></i><b>7.4.2</b> Dummy variables</a></li>
<li class="chapter" data-level="7.4.3" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#seasonal-dummy-variables"><i class="fa fa-check"></i><b>7.4.3</b> Seasonal dummy variables</a></li>
<li class="chapter" data-level="7.4.4" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#intervention-variables"><i class="fa fa-check"></i><b>7.4.4</b> Intervention variables</a></li>
<li class="chapter" data-level="7.4.5" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#trading-days"><i class="fa fa-check"></i><b>7.4.5</b> Trading days</a></li>
<li class="chapter" data-level="7.4.6" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#distributed-lags"><i class="fa fa-check"></i><b>7.4.6</b> Distributed lags</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#selecting-predictors"><i class="fa fa-check"></i><b>7.5</b> Selecting predictors</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#adjusted-r2"><i class="fa fa-check"></i><b>7.5.1</b> Adjusted <span class="math inline">\(R^2\)</span></a></li>
<li class="chapter" data-level="7.5.2" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#cross-validation"><i class="fa fa-check"></i><b>7.5.2</b> Cross-validation</a></li>
<li class="chapter" data-level="7.5.3" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#akaikes-information-criterion"><i class="fa fa-check"></i><b>7.5.3</b> Akaike’s Information Criterion</a></li>
<li class="chapter" data-level="7.5.4" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#corrected-akaikes-information-criterion"><i class="fa fa-check"></i><b>7.5.4</b> Corrected Akaike’s Information Criterion</a></li>
<li class="chapter" data-level="7.5.5" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#schwarzs-bayesian-information-criterion"><i class="fa fa-check"></i><b>7.5.5</b> Schwarz’s Bayesian Information Criterion</a></li>
<li class="chapter" data-level="7.5.6" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#stepwise-regression"><i class="fa fa-check"></i><b>7.5.6</b> Stepwise regression</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#forecasting-with-regression"><i class="fa fa-check"></i><b>7.6</b> Forecasting with regression</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#scenario-based-forecasting"><i class="fa fa-check"></i><b>7.6.1</b> Scenario based forecasting</a></li>
<li class="chapter" data-level="7.6.2" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#prediction-intervals-1"><i class="fa fa-check"></i><b>7.6.2</b> Prediction intervals</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#nonlinear-regression"><i class="fa fa-check"></i><b>7.7</b> Nonlinear regression</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#forecasting-with-a-nonlinear-trend"><i class="fa fa-check"></i><b>7.7.1</b> Forecasting with a nonlinear trend</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#correlation-causation-and-forecasting"><i class="fa fa-check"></i><b>7.8</b> Correlation, causation and forecasting</a>
<ul>
<li class="chapter" data-level="7.8.1" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#correlation-is-not-causation"><i class="fa fa-check"></i><b>7.8.1</b> Correlation is not causation</a></li>
<li class="chapter" data-level="7.8.2" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#forecasting-with-correlated-predictors"><i class="fa fa-check"></i><b>7.8.2</b> Forecasting with correlated predictors</a></li>
<li class="chapter" data-level="7.8.3" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#multicollinearity-and-forecasting"><i class="fa fa-check"></i><b>7.8.3</b> Multicollinearity and forecasting</a></li>
</ul></li>
<li class="chapter" data-level="7.9" data-path="time-series-regression-models.html"><a href="time-series-regression-models.html#exercises-2"><i class="fa fa-check"></i><b>7.9</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="exponential-smoothing.html"><a href="exponential-smoothing.html"><i class="fa fa-check"></i><b>8</b> Exponential Smoothing</a>
<ul>
<li class="chapter" data-level="8.1" data-path="exponential-smoothing.html"><a href="exponential-smoothing.html#simple-exponential-smoothing"><i class="fa fa-check"></i><b>8.1</b> Simple exponential smoothing</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="exponential-smoothing.html"><a href="exponential-smoothing.html#weighted-average-form"><i class="fa fa-check"></i><b>8.1.1</b> Weighted average form</a></li>
<li class="chapter" data-level="8.1.2" data-path="exponential-smoothing.html"><a href="exponential-smoothing.html#component-form"><i class="fa fa-check"></i><b>8.1.2</b> Component form</a></li>
<li class="chapter" data-level="8.1.3" data-path="exponential-smoothing.html"><a href="exponential-smoothing.html#flat-forecast"><i class="fa fa-check"></i><b>8.1.3</b> Flat forecast</a></li>
<li class="chapter" data-level="8.1.4" data-path="exponential-smoothing.html"><a href="exponential-smoothing.html#optimisation"><i class="fa fa-check"></i><b>8.1.4</b> Optimisation</a></li>
<li class="chapter" data-level="8.1.5" data-path="exponential-smoothing.html"><a href="exponential-smoothing.html#example-algerian-exports"><i class="fa fa-check"></i><b>8.1.5</b> Example: Algerian exports</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="exponential-smoothing.html"><a href="exponential-smoothing.html#methods-with-trend"><i class="fa fa-check"></i><b>8.2</b> Methods with trend</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="exponential-smoothing.html"><a href="exponential-smoothing.html#holts-linear-trend-method"><i class="fa fa-check"></i><b>8.2.1</b> Holt’s linear trend method</a></li>
<li class="chapter" data-level="8.2.2" data-path="exponential-smoothing.html"><a href="exponential-smoothing.html#damped-trend-methods"><i class="fa fa-check"></i><b>8.2.2</b> Damped trend methods</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="exponential-smoothing.html"><a href="exponential-smoothing.html#methods-with-seasonality"><i class="fa fa-check"></i><b>8.3</b> Methods with seasonality</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="exponential-smoothing.html"><a href="exponential-smoothing.html#holt-winters-additive-method"><i class="fa fa-check"></i><b>8.3.1</b> Holt-Winters’ additive method</a></li>
<li class="chapter" data-level="8.3.2" data-path="exponential-smoothing.html"><a href="exponential-smoothing.html#holt-winters-multiplicative-method"><i class="fa fa-check"></i><b>8.3.2</b> Holt-Winters’ multiplicative method</a></li>
<li class="chapter" data-level="8.3.3" data-path="exponential-smoothing.html"><a href="exponential-smoothing.html#example-domestic-overnight-trips-in-australia"><i class="fa fa-check"></i><b>8.3.3</b> Example: Domestic overnight trips in Australia</a></li>
<li class="chapter" data-level="8.3.4" data-path="exponential-smoothing.html"><a href="exponential-smoothing.html#holt-winters-damped-method"><i class="fa fa-check"></i><b>8.3.4</b> Holt-Winters’ damped method</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="exponential-smoothing.html"><a href="exponential-smoothing.html#a-taxonomy-of-exponential-smoothing-methods"><i class="fa fa-check"></i><b>8.4</b> A taxonomy of exponential smoothing methods</a></li>
<li class="chapter" data-level="8.5" data-path="exponential-smoothing.html"><a href="exponential-smoothing.html#innovations-state-space-models-for-exponential-smoothing"><i class="fa fa-check"></i><b>8.5</b> Innovations state space models for exponential smoothing</a></li>
<li class="chapter" data-level="8.6" data-path="exponential-smoothing.html"><a href="exponential-smoothing.html#estimation-and-model-selection"><i class="fa fa-check"></i><b>8.6</b> Estimation and model selection</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="exponential-smoothing.html"><a href="exponential-smoothing.html#model-selection"><i class="fa fa-check"></i><b>8.6.1</b> Model selection</a></li>
<li class="chapter" data-level="8.6.2" data-path="exponential-smoothing.html"><a href="exponential-smoothing.html#example-domestic-holiday-tourist-visitor-nights-in-australia"><i class="fa fa-check"></i><b>8.6.2</b> Example: Domestic holiday tourist visitor nights in Australia</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="exponential-smoothing.html"><a href="exponential-smoothing.html#forecasting-with-ets-models"><i class="fa fa-check"></i><b>8.7</b> Forecasting with ETS models</a>
<ul>
<li class="chapter" data-level="8.7.1" data-path="exponential-smoothing.html"><a href="exponential-smoothing.html#prediction-intervals-2"><i class="fa fa-check"></i><b>8.7.1</b> Prediction intervals</a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="exponential-smoothing.html"><a href="exponential-smoothing.html#excercises-3"><i class="fa fa-check"></i><b>8.8</b> Excercises</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="arima-models.html"><a href="arima-models.html"><i class="fa fa-check"></i><b>9</b> ARIMA models</a>
<ul>
<li class="chapter" data-level="9.1" data-path="arima-models.html"><a href="arima-models.html#stationarity-and-differencing"><i class="fa fa-check"></i><b>9.1</b> Stationarity and differencing</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="arima-models.html"><a href="arima-models.html#differencing"><i class="fa fa-check"></i><b>9.1.1</b> Differencing</a></li>
<li class="chapter" data-level="9.1.2" data-path="arima-models.html"><a href="arima-models.html#second-order-differencing"><i class="fa fa-check"></i><b>9.1.2</b> Second-order differencing</a></li>
<li class="chapter" data-level="9.1.3" data-path="arima-models.html"><a href="arima-models.html#seasonal-differencing"><i class="fa fa-check"></i><b>9.1.3</b> Seasonal differencing</a></li>
<li class="chapter" data-level="9.1.4" data-path="arima-models.html"><a href="arima-models.html#unit-root-tests"><i class="fa fa-check"></i><b>9.1.4</b> Unit root tests</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="arima-models.html"><a href="arima-models.html#backshift-notation"><i class="fa fa-check"></i><b>9.2</b> Backshift notation</a></li>
<li class="chapter" data-level="9.3" data-path="arima-models.html"><a href="arima-models.html#autoregressive-ar-models"><i class="fa fa-check"></i><b>9.3</b> Autoregressive (AR) models</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="arima-models.html"><a href="arima-models.html#ar1-model"><i class="fa fa-check"></i><b>9.3.1</b> AR(1) model</a></li>
<li class="chapter" data-level="9.3.2" data-path="arima-models.html"><a href="arima-models.html#ar2-model"><i class="fa fa-check"></i><b>9.3.2</b> AR(2) model</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="arima-models.html"><a href="arima-models.html#moving-average-models"><i class="fa fa-check"></i><b>9.4</b> Moving average models</a></li>
<li class="chapter" data-level="9.5" data-path="arima-models.html"><a href="arima-models.html#non-seasonal-arima-models"><i class="fa fa-check"></i><b>9.5</b> Non-seasonal ARIMA models</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="arima-models.html"><a href="arima-models.html#example-egyptian-exports"><i class="fa fa-check"></i><b>9.5.1</b> Example: Egyptian exports</a></li>
<li class="chapter" data-level="9.5.2" data-path="arima-models.html"><a href="arima-models.html#acf-and-pacf-plots"><i class="fa fa-check"></i><b>9.5.2</b> ACF and PACF plots</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="arima-models.html"><a href="arima-models.html#estimation-and-order-selection"><i class="fa fa-check"></i><b>9.6</b> Estimation and order selection</a></li>
<li class="chapter" data-level="9.7" data-path="arima-models.html"><a href="arima-models.html#arima-modelling-in-fable"><i class="fa fa-check"></i><b>9.7</b> ARIMA modelling in <code>fable</code></a>
<ul>
<li class="chapter" data-level="9.7.1" data-path="arima-models.html"><a href="arima-models.html#how-does-arima-work"><i class="fa fa-check"></i><b>9.7.1</b> How does ARIMA() work?</a></li>
<li class="chapter" data-level="9.7.2" data-path="arima-models.html"><a href="arima-models.html#modelling-procedure"><i class="fa fa-check"></i><b>9.7.2</b> Modelling procedure</a></li>
<li class="chapter" data-level="9.7.3" data-path="arima-models.html"><a href="arima-models.html#example-central-african-republic-exports"><i class="fa fa-check"></i><b>9.7.3</b> Example: Central African Republic exports</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="arima-models.html"><a href="arima-models.html#forecasting"><i class="fa fa-check"></i><b>9.8</b> Forecasting</a>
<ul>
<li class="chapter" data-level="9.8.1" data-path="arima-models.html"><a href="arima-models.html#prediction-intervals-3"><i class="fa fa-check"></i><b>9.8.1</b> Prediction intervals</a></li>
</ul></li>
<li class="chapter" data-level="9.9" data-path="arima-models.html"><a href="arima-models.html#seasonal-arima-models"><i class="fa fa-check"></i><b>9.9</b> Seasonal ARIMA models</a>
<ul>
<li class="chapter" data-level="9.9.1" data-path="arima-models.html"><a href="arima-models.html#arima-model-notation"><i class="fa fa-check"></i><b>9.9.1</b> ARIMA Model Notation</a></li>
<li class="chapter" data-level="9.9.2" data-path="arima-models.html"><a href="arima-models.html#acfpacf"><i class="fa fa-check"></i><b>9.9.2</b> ACF/PACF</a></li>
<li class="chapter" data-level="9.9.3" data-path="arima-models.html"><a href="arima-models.html#example-monthly-us-leisure-and-hospitality-employment"><i class="fa fa-check"></i><b>9.9.3</b> Example: Monthly US leisure and hospitality employment</a></li>
</ul></li>
<li class="chapter" data-level="9.10" data-path="arima-models.html"><a href="arima-models.html#arima-vs-ets"><i class="fa fa-check"></i><b>9.10</b> ARIMA vs ETS</a>
<ul>
<li class="chapter" data-level="9.10.1" data-path="arima-models.html"><a href="arima-models.html#comparing-arima-and-ets-on-non-seasonal-data"><i class="fa fa-check"></i><b>9.10.1</b> Comparing <code>ARIMA()</code> and <code>ETS()</code> on non-seasonal data</a></li>
<li class="chapter" data-level="9.10.2" data-path="arima-models.html"><a href="arima-models.html#comparing-arima-and-ets-on-seasonal-data"><i class="fa fa-check"></i><b>9.10.2</b> Comparing <code>ARIMA()</code> and <code>ETS()</code> on seasonal data</a></li>
</ul></li>
<li class="chapter" data-level="9.11" data-path="arima-models.html"><a href="arima-models.html#exercises-3"><i class="fa fa-check"></i><b>9.11</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="dynamic-regression-models.html"><a href="dynamic-regression-models.html"><i class="fa fa-check"></i><b>10</b> Dynamic regression models</a>
<ul>
<li class="chapter" data-level="10.1" data-path="dynamic-regression-models.html"><a href="dynamic-regression-models.html#regression-with-arima-errors-using-fable"><i class="fa fa-check"></i><b>10.1</b> Regression with ARIMA errors using <code>fable</code></a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="dynamic-regression-models.html"><a href="dynamic-regression-models.html#example-us-personal-consumption-and-income"><i class="fa fa-check"></i><b>10.1.1</b> Example: US Personal Consumption and Income</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="dynamic-regression-models.html"><a href="dynamic-regression-models.html#forecasting-1"><i class="fa fa-check"></i><b>10.2</b> Forecasting</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="dynamic-regression-models.html"><a href="dynamic-regression-models.html#example-us-personal-consumption-and-income-1"><i class="fa fa-check"></i><b>10.2.1</b> Example: US Personal Consumption and Income</a></li>
<li class="chapter" data-level="10.2.2" data-path="dynamic-regression-models.html"><a href="dynamic-regression-models.html#example-forecasting-electricity-demand"><i class="fa fa-check"></i><b>10.2.2</b> Example: Forecasting electricity demand</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="dynamic-regression-models.html"><a href="dynamic-regression-models.html#stochastic-and-deterministic-trends"><i class="fa fa-check"></i><b>10.3</b> Stochastic and deterministic trends</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="dynamic-regression-models.html"><a href="dynamic-regression-models.html#example-air-transport-passengers-australia"><i class="fa fa-check"></i><b>10.3.1</b> Example: Air transport passengers Australia</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="dynamic-regression-models.html"><a href="dynamic-regression-models.html#dynamic-harmonic-regression"><i class="fa fa-check"></i><b>10.4</b> Dynamic harmonic regression</a></li>
<li class="chapter" data-level="10.5" data-path="dynamic-regression-models.html"><a href="dynamic-regression-models.html#example-australian-eating-out-expenditure"><i class="fa fa-check"></i><b>10.5</b> Example: Australian eating out expenditure</a></li>
<li class="chapter" data-level="10.6" data-path="dynamic-regression-models.html"><a href="dynamic-regression-models.html#lagged-predictors"><i class="fa fa-check"></i><b>10.6</b> Lagged predictors</a>
<ul>
<li class="chapter" data-level="10.6.1" data-path="dynamic-regression-models.html"><a href="dynamic-regression-models.html#example-tv-advertising-and-insurance-quotations"><i class="fa fa-check"></i><b>10.6.1</b> Example: TV advertising and insurance quotations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="forecasting-hierarchical-and-grouped-time-series.html"><a href="forecasting-hierarchical-and-grouped-time-series.html"><i class="fa fa-check"></i><b>11</b> Forecasting hierarchical and grouped time series</a>
<ul>
<li class="chapter" data-level="11.1" data-path="forecasting-hierarchical-and-grouped-time-series.html"><a href="forecasting-hierarchical-and-grouped-time-series.html#hierarchical-and-grouped-time-series"><i class="fa fa-check"></i><b>11.1</b> Hierarchical and grouped time series</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="forecasting-hierarchical-and-grouped-time-series.html"><a href="forecasting-hierarchical-and-grouped-time-series.html#hierarchical-time-series"><i class="fa fa-check"></i><b>11.1.1</b> Hierarchical time series</a></li>
<li class="chapter" data-level="11.1.2" data-path="forecasting-hierarchical-and-grouped-time-series.html"><a href="forecasting-hierarchical-and-grouped-time-series.html#example-australian-tourism-hierarchy"><i class="fa fa-check"></i><b>11.1.2</b> Example: Australian tourism hierarchy</a></li>
<li class="chapter" data-level="11.1.3" data-path="forecasting-hierarchical-and-grouped-time-series.html"><a href="forecasting-hierarchical-and-grouped-time-series.html#grouped-time-series"><i class="fa fa-check"></i><b>11.1.3</b> Grouped time series</a></li>
<li class="chapter" data-level="11.1.4" data-path="forecasting-hierarchical-and-grouped-time-series.html"><a href="forecasting-hierarchical-and-grouped-time-series.html#example-australian-prison-population"><i class="fa fa-check"></i><b>11.1.4</b> Example: Australian prison population</a></li>
<li class="chapter" data-level="11.1.5" data-path="forecasting-hierarchical-and-grouped-time-series.html"><a href="forecasting-hierarchical-and-grouped-time-series.html#mixed-hierarchical-and-grouped-structure"><i class="fa fa-check"></i><b>11.1.5</b> Mixed hierarchical and grouped structure</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="forecasting-hierarchical-and-grouped-time-series.html"><a href="forecasting-hierarchical-and-grouped-time-series.html#single-level-approaches"><i class="fa fa-check"></i><b>11.2</b> Single level approaches</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="forecasting-hierarchical-and-grouped-time-series.html"><a href="forecasting-hierarchical-and-grouped-time-series.html#the-bottom-up-approach"><i class="fa fa-check"></i><b>11.2.1</b> The bottom-up approach</a></li>
<li class="chapter" data-level="11.2.2" data-path="forecasting-hierarchical-and-grouped-time-series.html"><a href="forecasting-hierarchical-and-grouped-time-series.html#top-down-approaches"><i class="fa fa-check"></i><b>11.2.2</b> Top-down approaches</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="forecasting-hierarchical-and-grouped-time-series.html"><a href="forecasting-hierarchical-and-grouped-time-series.html#forecast-reconciliation"><i class="fa fa-check"></i><b>11.3</b> Forecast reconciliation</a></li>
<li class="chapter" data-level="11.4" data-path="forecasting-hierarchical-and-grouped-time-series.html"><a href="forecasting-hierarchical-and-grouped-time-series.html#forecasting-australian-domestic-tourism"><i class="fa fa-check"></i><b>11.4</b> Forecasting Australian domestic tourism</a></li>
<li class="chapter" data-level="11.5" data-path="forecasting-hierarchical-and-grouped-time-series.html"><a href="forecasting-hierarchical-and-grouped-time-series.html#reconciled-distributional-forecasts"><i class="fa fa-check"></i><b>11.5</b> Reconciled distributional forecasts</a></li>
<li class="chapter" data-level="11.6" data-path="forecasting-hierarchical-and-grouped-time-series.html"><a href="forecasting-hierarchical-and-grouped-time-series.html#forecasting-australian-prison-population"><i class="fa fa-check"></i><b>11.6</b> Forecasting Australian prison population</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="advanced-forecasting-methods.html"><a href="advanced-forecasting-methods.html"><i class="fa fa-check"></i><b>12</b> Advanced forecasting methods</a>
<ul>
<li class="chapter" data-level="12.1" data-path="advanced-forecasting-methods.html"><a href="advanced-forecasting-methods.html#complex-seasonality"><i class="fa fa-check"></i><b>12.1</b> Complex seasonality</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="advanced-forecasting-methods.html"><a href="advanced-forecasting-methods.html#stl-with-multiple-seasonal-periods"><i class="fa fa-check"></i><b>12.1.1</b> STL with multiple seasonal periods</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="advanced-forecasting-methods.html"><a href="advanced-forecasting-methods.html#prophet-model"><i class="fa fa-check"></i><b>12.2</b> Prophet model</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="advanced-forecasting-methods.html"><a href="advanced-forecasting-methods.html#example-quarterly-cement-production"><i class="fa fa-check"></i><b>12.2.1</b> Example: Quarterly cement production</a></li>
<li class="chapter" data-level="12.2.2" data-path="advanced-forecasting-methods.html"><a href="advanced-forecasting-methods.html#example-half-hourly-electricity-demand"><i class="fa fa-check"></i><b>12.2.2</b> Example: Half-hourly electricity demand</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="advanced-forecasting-methods.html"><a href="advanced-forecasting-methods.html#vector-autoregressions"><i class="fa fa-check"></i><b>12.3</b> Vector autoregressions</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/daluchkin?tab=repositories">All Repositories</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Forecasting: Principles and Practice (3rd ed)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="exponential-smoothing" class="section level1 hasAnchor" number="8">
<h1><span class="header-section-number">Chapter 8</span> Exponential Smoothing<a href="exponential-smoothing.html#exponential-smoothing" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div class="sourceCode" id="cb902"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb902-1"><a href="exponential-smoothing.html#cb902-1" tabindex="-1"></a><span class="co"># loading libraries</span></span>
<span id="cb902-2"><a href="exponential-smoothing.html#cb902-2" tabindex="-1"></a><span class="fu">library</span>(tsibble)</span>
<span id="cb902-3"><a href="exponential-smoothing.html#cb902-3" tabindex="-1"></a><span class="fu">library</span>(tsibbledata)</span>
<span id="cb902-4"><a href="exponential-smoothing.html#cb902-4" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb902-5"><a href="exponential-smoothing.html#cb902-5" tabindex="-1"></a><span class="co"># to read data</span></span>
<span id="cb902-6"><a href="exponential-smoothing.html#cb902-6" tabindex="-1"></a><span class="fu">library</span>(rio)</span>
<span id="cb902-7"><a href="exponential-smoothing.html#cb902-7" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb902-8"><a href="exponential-smoothing.html#cb902-8" tabindex="-1"></a><span class="fu">library</span>(fabletools)</span>
<span id="cb902-9"><a href="exponential-smoothing.html#cb902-9" tabindex="-1"></a><span class="fu">library</span>(feasts)</span>
<span id="cb902-10"><a href="exponential-smoothing.html#cb902-10" tabindex="-1"></a><span class="fu">library</span>(fpp3)</span>
<span id="cb902-11"><a href="exponential-smoothing.html#cb902-11" tabindex="-1"></a><span class="fu">library</span>(latex2exp)</span>
<span id="cb902-12"><a href="exponential-smoothing.html#cb902-12" tabindex="-1"></a><span class="fu">library</span>(forecast)</span>
<span id="cb902-13"><a href="exponential-smoothing.html#cb902-13" tabindex="-1"></a><span class="fu">library</span>(fma)</span></code></pre></div>
<p><a href="https://otexts.com/fpp3/expsmooth.html">The source of the chapter</a></p>
<div id="simple-exponential-smoothing" class="section level2 hasAnchor" number="8.1">
<h2><span class="header-section-number">8.1</span> Simple exponential smoothing<a href="exponential-smoothing.html#simple-exponential-smoothing" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><a href="https://otexts.com/fpp3/ses.html">The source of the section</a></p>
<p>The SES method is suitable for forecasting data with no clear trend or
seasonal pattern.</p>
<div class="sourceCode" id="cb903"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb903-1"><a href="exponential-smoothing.html#cb903-1" tabindex="-1"></a>algeria_economy <span class="ot">&lt;-</span> global_economy <span class="sc">|&gt;</span></span>
<span id="cb903-2"><a href="exponential-smoothing.html#cb903-2" tabindex="-1"></a>  <span class="fu">filter</span>(Country <span class="sc">==</span> <span class="st">&#39;Algeria&#39;</span>)</span>
<span id="cb903-3"><a href="exponential-smoothing.html#cb903-3" tabindex="-1"></a></span>
<span id="cb903-4"><a href="exponential-smoothing.html#cb903-4" tabindex="-1"></a>algeria_economy <span class="sc">|&gt;</span></span>
<span id="cb903-5"><a href="exponential-smoothing.html#cb903-5" tabindex="-1"></a>  <span class="fu">autoplot</span>(Exports) <span class="sc">+</span></span>
<span id="cb903-6"><a href="exponential-smoothing.html#cb903-6" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&#39;% of GDP&#39;</span>, <span class="at">title =</span> <span class="st">&#39;Exports: Algeria&#39;</span>)</span></code></pre></div>
<p><img src="figure_html/ch08-ts-exp-smoothing-2-1.png" width="672" /></p>
<blockquote>
<p>Forecasts are calculated using weighted averages, where the weights
decrease exponentially as observations come from further in the past
— the smallest weights are associated with the oldest observations.</p>
</blockquote>
<p><span class="math display">\[
\hat y_{T+1|T} = \alpha y_T + \alpha(1 - \alpha)y_{T-1} +\alpha(1 - \alpha)^2y_{T-1}+...
\]</span></p>
<p>where <span class="math inline">\(0 \le \alpha \le 1\)</span> is the smoothing parameter.</p>
<div id="weighted-average-form" class="section level3 hasAnchor" number="8.1.1">
<h3><span class="header-section-number">8.1.1</span> Weighted average form<a href="exponential-smoothing.html#weighted-average-form" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><span class="math display">\[
\hat y_{T+1|T} = \alpha y_T + (1-\alpha) \hat y_{T|T-1}
\]</span> where <span class="math inline">\(0 \le \alpha \le 1\)</span> is the smoothing parameter.</p>
<p><span class="math display">\[
\hat y_{T+1|T} = \sum_{j=0}^{T-1} \alpha(1-\alpha)^j y_{T-j} + (a-\alpha)^T\ell_0
\]</span></p>
<blockquote>
<p>The weighted average form leads to the same forecast equation of
simple exponential smoothing.</p>
</blockquote>
</div>
<div id="component-form" class="section level3 hasAnchor" number="8.1.2">
<h3><span class="header-section-number">8.1.2</span> Component form<a href="exponential-smoothing.html#component-form" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Forecast:</p>
<p><span class="math display">\[
\hat y_{t+h|t} = \ell_t
\]</span> Smoothing:</p>
<p><span class="math display">\[
\ell_t = \alpha y_t + (1- \alpha)\ell_{t-1}
\]</span></p>
</div>
<div id="flat-forecast" class="section level3 hasAnchor" number="8.1.3">
<h3><span class="header-section-number">8.1.3</span> Flat forecast<a href="exponential-smoothing.html#flat-forecast" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><span class="math display">\[
\hat y_{T+h|T} = \hat y_{T+1|T} = \ell_T, \space \space \space h = 2,3,...
\]</span> &gt; That is, all forecasts take the same value, equal to the last
level component. Remember that these forecasts will only be suitable if
the time series has no trend or seasonal component.</p>
</div>
<div id="optimisation" class="section level3 hasAnchor" number="8.1.4">
<h3><span class="header-section-number">8.1.4</span> Optimisation<a href="exponential-smoothing.html#optimisation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The unknown parameters (<span class="math inline">\(\alpha\)</span>) and the initial values (<span class="math inline">\(\ell_0\)</span>) for
any exponential smoothing method can be estimated by minimising the SSE.</p>
<p><span class="math display">\[
SSE = \sum_{t=1}^T(y_t - \hat y_{t|t-1})^2 = \sum_{t=1}^T e_t^2
\]</span></p>
<p>where <span class="math inline">\(e_t = y_t - \hat y_{t|t-1}\)</span> for <span class="math inline">\(t=1,...,T\)</span></p>
</div>
<div id="example-algerian-exports" class="section level3 hasAnchor" number="8.1.5">
<h3><span class="header-section-number">8.1.5</span> Example: Algerian exports<a href="exponential-smoothing.html#example-algerian-exports" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Fit the model ETS(ANN).</p>
<div class="sourceCode" id="cb904"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb904-1"><a href="exponential-smoothing.html#cb904-1" tabindex="-1"></a><span class="co"># Estimate parameters</span></span>
<span id="cb904-2"><a href="exponential-smoothing.html#cb904-2" tabindex="-1"></a>fit <span class="ot">&lt;-</span> algeria_economy <span class="sc">|&gt;</span></span>
<span id="cb904-3"><a href="exponential-smoothing.html#cb904-3" tabindex="-1"></a>  <span class="fu">model</span>(<span class="fu">ETS</span>(Exports <span class="sc">~</span> <span class="fu">error</span>(<span class="st">&quot;A&quot;</span>) <span class="sc">+</span> <span class="fu">trend</span>(<span class="st">&quot;N&quot;</span>) <span class="sc">+</span> <span class="fu">season</span>(<span class="st">&quot;N&quot;</span>)))</span>
<span id="cb904-4"><a href="exponential-smoothing.html#cb904-4" tabindex="-1"></a>fc <span class="ot">&lt;-</span> fit <span class="sc">|&gt;</span></span>
<span id="cb904-5"><a href="exponential-smoothing.html#cb904-5" tabindex="-1"></a>  <span class="fu">forecast</span>(<span class="at">h =</span> <span class="dv">5</span>)</span></code></pre></div>
<p>Model report.</p>
<div class="sourceCode" id="cb905"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb905-1"><a href="exponential-smoothing.html#cb905-1" tabindex="-1"></a>fit <span class="sc">|&gt;</span> <span class="fu">report</span>()</span></code></pre></div>
<pre><code>## Series: Exports 
## Model: ETS(A,N,N) 
##   Smoothing parameters:
##     alpha = 0.8399875 
## 
##   Initial states:
##    l[0]
##  39.539
## 
##   sigma^2:  35.6301
## 
##      AIC     AICc      BIC 
## 446.7154 447.1599 452.8968</code></pre>
<p>The 5-step forecast.</p>
<div class="sourceCode" id="cb907"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb907-1"><a href="exponential-smoothing.html#cb907-1" tabindex="-1"></a>fc</span></code></pre></div>
<pre><code>## # A fable: 5 x 5 [1Y]
## # Key:     Country, .model [1]
##   Country .model                                                        Year    Exports .mean
##   &lt;fct&gt;   &lt;chr&gt;                                                        &lt;dbl&gt;     &lt;dist&gt; &lt;dbl&gt;
## 1 Algeria &quot;ETS(Exports ~ error(\&quot;A\&quot;) + trend(\&quot;N\&quot;) + season(\&quot;N\&quot;))&quot;  2018  N(22, 36)  22.4
## 2 Algeria &quot;ETS(Exports ~ error(\&quot;A\&quot;) + trend(\&quot;N\&quot;) + season(\&quot;N\&quot;))&quot;  2019  N(22, 61)  22.4
## 3 Algeria &quot;ETS(Exports ~ error(\&quot;A\&quot;) + trend(\&quot;N\&quot;) + season(\&quot;N\&quot;))&quot;  2020  N(22, 86)  22.4
## 4 Algeria &quot;ETS(Exports ~ error(\&quot;A\&quot;) + trend(\&quot;N\&quot;) + season(\&quot;N\&quot;))&quot;  2021 N(22, 111)  22.4
## 5 Algeria &quot;ETS(Exports ~ error(\&quot;A\&quot;) + trend(\&quot;N\&quot;) + season(\&quot;N\&quot;))&quot;  2022 N(22, 136)  22.4</code></pre>
<div class="sourceCode" id="cb909"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb909-1"><a href="exponential-smoothing.html#cb909-1" tabindex="-1"></a>fc <span class="sc">|&gt;</span></span>
<span id="cb909-2"><a href="exponential-smoothing.html#cb909-2" tabindex="-1"></a>  <span class="fu">autoplot</span>(algeria_economy) <span class="sc">+</span></span>
<span id="cb909-3"><a href="exponential-smoothing.html#cb909-3" tabindex="-1"></a>  <span class="fu">autolayer</span>(fit <span class="sc">|&gt;</span> <span class="fu">augment</span>(), .fitted, <span class="at">color =</span> <span class="st">&#39;blue&#39;</span>) <span class="sc">+</span></span>
<span id="cb909-4"><a href="exponential-smoothing.html#cb909-4" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y=</span><span class="st">&quot;% of GDP&quot;</span>, <span class="at">title=</span><span class="st">&quot;Exports: Algeria&quot;</span>) <span class="sc">+</span></span>
<span id="cb909-5"><a href="exponential-smoothing.html#cb909-5" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">colour =</span> <span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<p><img src="figure_html/ch08-ts-exp-smoothing-6-1.png" width="672" /></p>
</div>
</div>
<div id="methods-with-trend" class="section level2 hasAnchor" number="8.2">
<h2><span class="header-section-number">8.2</span> Methods with trend<a href="exponential-smoothing.html#methods-with-trend" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><a href="https://otexts.com/fpp3/holt.html">The source of the section</a></p>
<div id="holts-linear-trend-method" class="section level3 hasAnchor" number="8.2.1">
<h3><span class="header-section-number">8.2.1</span> Holt’s linear trend method<a href="exponential-smoothing.html#holts-linear-trend-method" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Forecast: <span class="math display">\[
\hat y_{t+h|t} = \ell_t + hb_t
\]</span></p>
<p>Level: <span class="math display">\[
\ell_t = \alpha y_t + (1-\alpha)(\ell_{t-1} + b_{t-1})
\]</span></p>
<p>Trend: <span class="math display">\[
b_t = \beta(\ell_t - \ell_{t-1}) + (1-\beta)b_{t-1}
\]</span></p>
<p>Parameters:</p>
<ul>
<li><span class="math inline">\(\ell_t\)</span> - the level fot he time series at time <span class="math inline">\(t\)</span></li>
<li><span class="math inline">\(b_t\)</span> trend (slope) of the time series at time <span class="math inline">\(t\)</span></li>
<li><span class="math inline">\(\alpha\)</span> - the smoothing parameter for the level
<span class="math inline">\(0 \le \alpha \le 1\)</span></li>
<li><span class="math inline">\(\beta\)</span> smoothing parameter for the trend <span class="math inline">\(0 \le \beta \le 1\)</span></li>
</ul>
<div id="example-australian-population" class="section level4 hasAnchor" number="8.2.1.1">
<h4><span class="header-section-number">8.2.1.1</span> Example: Australian population<a href="exponential-smoothing.html#example-australian-population" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb910"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb910-1"><a href="exponential-smoothing.html#cb910-1" tabindex="-1"></a>aus_economy <span class="ot">&lt;-</span> global_economy <span class="sc">|&gt;</span></span>
<span id="cb910-2"><a href="exponential-smoothing.html#cb910-2" tabindex="-1"></a>  <span class="fu">filter</span>(Code <span class="sc">==</span> <span class="st">&quot;AUS&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb910-3"><a href="exponential-smoothing.html#cb910-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Pop =</span> Population <span class="sc">/</span> <span class="fl">1e6</span>)</span>
<span id="cb910-4"><a href="exponential-smoothing.html#cb910-4" tabindex="-1"></a><span class="fu">autoplot</span>(aus_economy, Pop) <span class="sc">+</span></span>
<span id="cb910-5"><a href="exponential-smoothing.html#cb910-5" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Millions&quot;</span>, <span class="at">title =</span> <span class="st">&quot;Australian population&quot;</span>)</span></code></pre></div>
<p><img src="figure_html/ch08-ts-exp-smoothing-7-1.png" width="672" /></p>
<div class="sourceCode" id="cb911"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb911-1"><a href="exponential-smoothing.html#cb911-1" tabindex="-1"></a>aus_economy <span class="sc">|&gt;</span></span>
<span id="cb911-2"><a href="exponential-smoothing.html#cb911-2" tabindex="-1"></a>  <span class="fu">gg_tsdisplay</span>()</span></code></pre></div>
<pre><code>## Plot variable not specified, automatically selected `y = GDP`</code></pre>
<p><img src="figure_html/ch08-ts-exp-smoothing-8-1.png" width="672" /></p>
<p>There are trend and no seasonality in the time series, so use
ETS(<strong>AAN</strong>) - <strong>A</strong>dditive error, <strong>A</strong>dditive trend and
<strong>N</strong>on-seasonality.</p>
<p>Fit the model and forecast.</p>
<blockquote>
<p>The smoothing parameters, <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\beta\)</span>, and the initial values
<span class="math inline">\(\ell_0\)</span> and <span class="math inline">\(b_0\)</span> are estimated by minimising the SSE for the
one-step training errors.</p>
</blockquote>
<div class="sourceCode" id="cb913"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb913-1"><a href="exponential-smoothing.html#cb913-1" tabindex="-1"></a><span class="co"># ETS(AAN) - Additive error, Additive trend and non-seasonality</span></span>
<span id="cb913-2"><a href="exponential-smoothing.html#cb913-2" tabindex="-1"></a>aus_economy <span class="sc">|&gt;</span></span>
<span id="cb913-3"><a href="exponential-smoothing.html#cb913-3" tabindex="-1"></a>  <span class="fu">model</span>(<span class="at">AAN =</span> <span class="fu">ETS</span>(Pop <span class="sc">~</span> <span class="fu">error</span>(<span class="st">&#39;A&#39;</span>) <span class="sc">+</span> <span class="fu">trend</span>(<span class="st">&#39;A&#39;</span>) <span class="sc">+</span> <span class="fu">season</span>(<span class="st">&#39;N&#39;</span>))) <span class="sc">|&gt;</span></span>
<span id="cb913-4"><a href="exponential-smoothing.html#cb913-4" tabindex="-1"></a>  <span class="fu">forecast</span>(<span class="at">h =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb913-5"><a href="exponential-smoothing.html#cb913-5" tabindex="-1"></a>  <span class="fu">autoplot</span>(aus_economy) <span class="sc">+</span></span>
<span id="cb913-6"><a href="exponential-smoothing.html#cb913-6" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Millions&quot;</span>, <span class="at">title =</span> <span class="st">&quot;Australian population forecast ETS(AAN)&quot;</span>)</span></code></pre></div>
<p><img src="figure_html/ch08-ts-exp-smoothing-9-1.png" width="672" /></p>
<blockquote>
<p><strong>Note!</strong> The forecasts generated by <strong>EST(AAN)</strong> display a constant
trend (increasing or decreasing) indefinitely into the future.</p>
</blockquote>
</div>
</div>
<div id="damped-trend-methods" class="section level3 hasAnchor" number="8.2.2">
<h3><span class="header-section-number">8.2.2</span> Damped trend methods<a href="exponential-smoothing.html#damped-trend-methods" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Forecast: <span class="math display">\[
\hat y_{t+h|t} = \ell_t + \left( \sum_{t=1}^h {\phi}^h \right) \times hb_t
\]</span></p>
<p>Level: <span class="math display">\[
\ell_t = \alpha y_t + (1-\alpha)(\ell_{t-1} + \phi b_{t-1})
\]</span></p>
<p>Trend: <span class="math display">\[
b_t = \beta(\ell_t - \ell_{t-1}) + (1-\beta)\phi b_{t-1}
\]</span></p>
<p>Parameters:</p>
<ul>
<li><span class="math inline">\(\ell_t\)</span> - the level fot he time series at time <span class="math inline">\(t\)</span></li>
<li><span class="math inline">\(b_t\)</span> trend (slope) of the time series at time <span class="math inline">\(t\)</span></li>
<li><span class="math inline">\(\alpha\)</span> - the smoothing parameter for the level
<span class="math inline">\(0 \le \alpha \le 1\)</span></li>
<li><span class="math inline">\(\beta\)</span> smoothing parameter for the trend <span class="math inline">\(0 \le \beta \le 1\)</span></li>
<li><span class="math inline">\(\phi\)</span> a damping parameters <span class="math inline">\(0 \le \phi \le 1\)</span></li>
</ul>
<blockquote>
<p>In practice, <span class="math inline">\(\phi\)</span> is rarely less than 0.8 as the damping has a very
strong effect for smaller values. Values of <span class="math inline">\(\phi\)</span> close to 1 will
mean that a damped model is not able to be distinguished from a
non-damped model. For these reasons, we usually restrict <span class="math inline">\(\phi\)</span> to a
minimum of 0.8 and a maximum of 0.98.</p>
</blockquote>
<div id="example-australian-population-1" class="section level4 hasAnchor" number="8.2.2.1">
<h4><span class="header-section-number">8.2.2.1</span> Example: Australian population<a href="exponential-smoothing.html#example-australian-population-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>There are increasing trend and no seasonality in the <code>aus_economy</code> time
series, so use ETS(<strong>AAdN</strong>) - <strong>A</strong>dditive error, <strong>A</strong>dditive damped
trend and <strong>N</strong>on-seasonality.</p>
<p>Fit the model and forecast.</p>
<div class="sourceCode" id="cb914"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb914-1"><a href="exponential-smoothing.html#cb914-1" tabindex="-1"></a><span class="co"># ETS(AAdN) - Additive error, Additive damped trend and non-seasonality</span></span>
<span id="cb914-2"><a href="exponential-smoothing.html#cb914-2" tabindex="-1"></a>aus_economy <span class="sc">|&gt;</span></span>
<span id="cb914-3"><a href="exponential-smoothing.html#cb914-3" tabindex="-1"></a>  <span class="fu">model</span>(<span class="at">AAN =</span> <span class="fu">ETS</span>(Pop <span class="sc">~</span> <span class="fu">error</span>(<span class="st">&#39;A&#39;</span>) <span class="sc">+</span> <span class="fu">trend</span>(<span class="st">&#39;A&#39;</span>) <span class="sc">+</span> <span class="fu">season</span>(<span class="st">&#39;N&#39;</span>)),</span>
<span id="cb914-4"><a href="exponential-smoothing.html#cb914-4" tabindex="-1"></a>        <span class="at">AAdN =</span> <span class="fu">ETS</span>(Pop <span class="sc">~</span> <span class="fu">error</span>(<span class="st">&#39;A&#39;</span>) <span class="sc">+</span> <span class="fu">trend</span>(<span class="st">&#39;Ad&#39;</span>, <span class="at">phi =</span> <span class="fl">0.9</span>) <span class="sc">+</span> <span class="fu">season</span>(<span class="st">&#39;N&#39;</span>))) <span class="sc">|&gt;</span></span>
<span id="cb914-5"><a href="exponential-smoothing.html#cb914-5" tabindex="-1"></a>  <span class="fu">forecast</span>(<span class="at">h =</span> <span class="dv">15</span>) <span class="sc">|&gt;</span></span>
<span id="cb914-6"><a href="exponential-smoothing.html#cb914-6" tabindex="-1"></a>  <span class="fu">autoplot</span>(aus_economy, <span class="at">level=</span><span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb914-7"><a href="exponential-smoothing.html#cb914-7" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Millions&quot;</span>, <span class="at">title =</span> <span class="st">&quot;Australian population forecast ETS(AAdN)&quot;</span>)</span></code></pre></div>
<p><img src="figure_html/ch08-ts-exp-smoothing-10-1.png" width="672" /></p>
<p>The more <span class="math inline">\(phi\)</span> is, the mode damping effect.</p>
</div>
<div id="example-internet-usage" class="section level4 hasAnchor" number="8.2.2.2">
<h4><span class="header-section-number">8.2.2.2</span> Example: Internet usage<a href="exponential-smoothing.html#example-internet-usage" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb915"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb915-1"><a href="exponential-smoothing.html#cb915-1" tabindex="-1"></a>www_usage <span class="ot">&lt;-</span> <span class="fu">as_tsibble</span>(WWWusage)</span>
<span id="cb915-2"><a href="exponential-smoothing.html#cb915-2" tabindex="-1"></a>www_usage <span class="sc">|&gt;</span> <span class="fu">autoplot</span>(value) <span class="sc">+</span></span>
<span id="cb915-3"><a href="exponential-smoothing.html#cb915-3" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">&quot;Minute&quot;</span>, <span class="at">y=</span><span class="st">&quot;Number of users&quot;</span>,</span>
<span id="cb915-4"><a href="exponential-smoothing.html#cb915-4" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&quot;Internet usage per minute&quot;</span>)</span></code></pre></div>
<p><img src="figure_html/ch08-ts-exp-smoothing-11-1.png" width="672" /></p>
<div id="cross-validation-1" class="section level5 hasAnchor" number="8.2.2.2.1">
<h5><span class="header-section-number">8.2.2.2.1</span> Cross-validation<a href="exponential-smoothing.html#cross-validation-1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<div class="sourceCode" id="cb916"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb916-1"><a href="exponential-smoothing.html#cb916-1" tabindex="-1"></a>www_usage <span class="sc">|&gt;</span></span>
<span id="cb916-2"><a href="exponential-smoothing.html#cb916-2" tabindex="-1"></a>  <span class="fu">stretch_tsibble</span>(<span class="at">.init =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb916-3"><a href="exponential-smoothing.html#cb916-3" tabindex="-1"></a>  <span class="fu">model</span>(</span>
<span id="cb916-4"><a href="exponential-smoothing.html#cb916-4" tabindex="-1"></a>    <span class="at">SES =</span> <span class="fu">ETS</span>(value <span class="sc">~</span> <span class="fu">error</span>(<span class="st">&quot;A&quot;</span>) <span class="sc">+</span> <span class="fu">trend</span>(<span class="st">&quot;N&quot;</span>) <span class="sc">+</span> <span class="fu">season</span>(<span class="st">&quot;N&quot;</span>)),        <span class="co"># ETS(ANN)</span></span>
<span id="cb916-5"><a href="exponential-smoothing.html#cb916-5" tabindex="-1"></a>    <span class="at">Holt =</span> <span class="fu">ETS</span>(value <span class="sc">~</span> <span class="fu">error</span>(<span class="st">&quot;A&quot;</span>) <span class="sc">+</span> <span class="fu">trend</span>(<span class="st">&quot;A&quot;</span>) <span class="sc">+</span> <span class="fu">season</span>(<span class="st">&quot;N&quot;</span>)),       <span class="co"># ETS(AAN)</span></span>
<span id="cb916-6"><a href="exponential-smoothing.html#cb916-6" tabindex="-1"></a>    <span class="at">Damped =</span> <span class="fu">ETS</span>(value <span class="sc">~</span> <span class="fu">error</span>(<span class="st">&quot;A&quot;</span>) <span class="sc">+</span> <span class="fu">trend</span>(<span class="st">&quot;Ad&quot;</span>) <span class="sc">+</span> <span class="fu">season</span>(<span class="st">&quot;N&quot;</span>))) <span class="sc">|&gt;</span> <span class="co"># ETS(AAdN)</span></span>
<span id="cb916-7"><a href="exponential-smoothing.html#cb916-7" tabindex="-1"></a>  <span class="fu">forecast</span>(<span class="at">h =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb916-8"><a href="exponential-smoothing.html#cb916-8" tabindex="-1"></a>  <span class="fu">accuracy</span>(www_usage) <span class="sc">|&gt;</span></span>
<span id="cb916-9"><a href="exponential-smoothing.html#cb916-9" tabindex="-1"></a>  <span class="fu">select</span>(.model, MAE, RMSE, MAPE, MASE)</span></code></pre></div>
<pre><code>## Warning: The future dataset is incomplete, incomplete out-of-sample data will be treated as missing. 
## 1 observation is missing at 101</code></pre>
<pre><code>## # A tibble: 3 × 5
##   .model   MAE  RMSE  MAPE  MASE
##   &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 Damped  3.00  3.69  2.26 0.663
## 2 Holt    3.17  3.87  2.38 0.701
## 3 SES     4.81  6.05  3.55 1.06</code></pre>
<p>The damped model ETS(AAdN) is more preferable.</p>
<div class="sourceCode" id="cb919"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb919-1"><a href="exponential-smoothing.html#cb919-1" tabindex="-1"></a>fit <span class="ot">&lt;-</span> www_usage <span class="sc">|&gt;</span></span>
<span id="cb919-2"><a href="exponential-smoothing.html#cb919-2" tabindex="-1"></a>  <span class="fu">model</span>(</span>
<span id="cb919-3"><a href="exponential-smoothing.html#cb919-3" tabindex="-1"></a>    <span class="at">Damped =</span> <span class="fu">ETS</span>(value <span class="sc">~</span> <span class="fu">error</span>(<span class="st">&quot;A&quot;</span>) <span class="sc">+</span> <span class="fu">trend</span>(<span class="st">&quot;Ad&quot;</span>) <span class="sc">+</span> <span class="fu">season</span>(<span class="st">&quot;N&quot;</span>))</span>
<span id="cb919-4"><a href="exponential-smoothing.html#cb919-4" tabindex="-1"></a>  )</span></code></pre></div>
<div class="sourceCode" id="cb920"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb920-1"><a href="exponential-smoothing.html#cb920-1" tabindex="-1"></a>fit <span class="sc">|&gt;</span> <span class="fu">report</span>()</span></code></pre></div>
<pre><code>## Series: value 
## Model: ETS(A,Ad,N) 
##   Smoothing parameters:
##     alpha = 0.9999 
##     beta  = 0.9966439 
##     phi   = 0.814958 
## 
##   Initial states:
##      l[0]        b[0]
##  90.35177 -0.01728234
## 
##   sigma^2:  12.2244
## 
##      AIC     AICc      BIC 
## 717.7310 718.6342 733.3620</code></pre>
<div class="sourceCode" id="cb922"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb922-1"><a href="exponential-smoothing.html#cb922-1" tabindex="-1"></a>fit <span class="sc">|&gt;</span> <span class="fu">tidy</span>()</span></code></pre></div>
<pre><code>## # A tibble: 5 × 3
##   .model term  estimate
##   &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt;
## 1 Damped alpha   1.00  
## 2 Damped beta    0.997 
## 3 Damped phi     0.815 
## 4 Damped l[0]   90.4   
## 5 Damped b[0]   -0.0173</code></pre>
<p>Make forecasts.</p>
<div class="sourceCode" id="cb924"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb924-1"><a href="exponential-smoothing.html#cb924-1" tabindex="-1"></a>fit <span class="sc">|&gt;</span></span>
<span id="cb924-2"><a href="exponential-smoothing.html#cb924-2" tabindex="-1"></a>  <span class="fu">forecast</span>(<span class="at">h =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb924-3"><a href="exponential-smoothing.html#cb924-3" tabindex="-1"></a>  <span class="fu">autoplot</span>(www_usage) <span class="sc">+</span></span>
<span id="cb924-4"><a href="exponential-smoothing.html#cb924-4" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">&quot;Minute&quot;</span>, <span class="at">y=</span><span class="st">&quot;Number of users&quot;</span>,</span>
<span id="cb924-5"><a href="exponential-smoothing.html#cb924-5" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&quot;Internet usage per minute&quot;</span>)</span></code></pre></div>
<p><img src="figure_html/ch08-ts-exp-smoothing-16-1.png" width="672" /></p>
</div>
</div>
</div>
</div>
<div id="methods-with-seasonality" class="section level2 hasAnchor" number="8.3">
<h2><span class="header-section-number">8.3</span> Methods with seasonality<a href="exponential-smoothing.html#methods-with-seasonality" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><a href="https://otexts.com/fpp3/holt-winters.html">The source of the section</a></p>
<div id="holt-winters-additive-method" class="section level3 hasAnchor" number="8.3.1">
<h3><span class="header-section-number">8.3.1</span> Holt-Winters’ additive method<a href="exponential-smoothing.html#holt-winters-additive-method" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Forecast: <span class="math display">\[
\hat y_{t+h|t} = \ell_t + hb_t + s_{t + h - m(k-1)}
\]</span></p>
<p>Level: <span class="math display">\[
\ell_t = \alpha (y_t - s_{t-m}) + (1-\alpha)(\ell_{t-1} + b_{t-1})
\]</span></p>
<p>Trend: <span class="math display">\[
b_t = \beta(\ell_t - \ell_{t-1}) + (1-\beta)\phi b_{t-1}
\]</span></p>
<p>Season: <span class="math display">\[
s_t = \gamma(y_t - \ell_{t-1} - b_{t-1}) + (1-\gamma)s_{t-m}
\]</span></p>
<p>where <span class="math inline">\(k = (h-1)/m\)</span></p>
</div>
<div id="holt-winters-multiplicative-method" class="section level3 hasAnchor" number="8.3.2">
<h3><span class="header-section-number">8.3.2</span> Holt-Winters’ multiplicative method<a href="exponential-smoothing.html#holt-winters-multiplicative-method" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Forecast:</p>
<p><span class="math display">\[
\hat y_{t+h|t} = (\ell_t + hb_t) \times s_{t + h - m(k+1)}
\]</span></p>
<p>Level:</p>
<p><span class="math display">\[
\ell_t = \alpha \frac {y_t} {s_{t-m}} + (1-\alpha)(\ell_{t-1} + b_{t-1})
\]</span></p>
<p>Trend:</p>
<p><span class="math display">\[
b_t = \beta(\ell_t - \ell_{t-1}) + (1-\beta) b_{t-1}
\]</span></p>
<p>Season:</p>
<p><span class="math display">\[
s_t = \gamma \frac {y_t} {(\ell_{t-1} + b_{t-1})} + (1-\gamma)s_{t-m}
\]</span></p>
</div>
<div id="example-domestic-overnight-trips-in-australia" class="section level3 hasAnchor" number="8.3.3">
<h3><span class="header-section-number">8.3.3</span> Example: Domestic overnight trips in Australia<a href="exponential-smoothing.html#example-domestic-overnight-trips-in-australia" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb925"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb925-1"><a href="exponential-smoothing.html#cb925-1" tabindex="-1"></a>aus_holidays <span class="ot">&lt;-</span> tourism <span class="sc">|&gt;</span></span>
<span id="cb925-2"><a href="exponential-smoothing.html#cb925-2" tabindex="-1"></a>  <span class="fu">filter</span>(Purpose <span class="sc">==</span> <span class="st">&#39;Holiday&#39;</span>) <span class="sc">|&gt;</span></span>
<span id="cb925-3"><a href="exponential-smoothing.html#cb925-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Trips =</span> <span class="fu">sum</span>(Trips)<span class="sc">/</span><span class="fl">1e3</span>)</span>
<span id="cb925-4"><a href="exponential-smoothing.html#cb925-4" tabindex="-1"></a></span>
<span id="cb925-5"><a href="exponential-smoothing.html#cb925-5" tabindex="-1"></a>train <span class="ot">&lt;-</span> aus_holidays <span class="sc">|&gt;</span></span>
<span id="cb925-6"><a href="exponential-smoothing.html#cb925-6" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">year</span>(Quarter) <span class="sc">&lt;</span> <span class="dv">2015</span>)</span>
<span id="cb925-7"><a href="exponential-smoothing.html#cb925-7" tabindex="-1"></a></span>
<span id="cb925-8"><a href="exponential-smoothing.html#cb925-8" tabindex="-1"></a><span class="co">#fit the model</span></span>
<span id="cb925-9"><a href="exponential-smoothing.html#cb925-9" tabindex="-1"></a>fit <span class="ot">&lt;-</span> train <span class="sc">|&gt;</span></span>
<span id="cb925-10"><a href="exponential-smoothing.html#cb925-10" tabindex="-1"></a>  <span class="fu">model</span>(</span>
<span id="cb925-11"><a href="exponential-smoothing.html#cb925-11" tabindex="-1"></a>    <span class="at">snaive =</span> <span class="fu">SNAIVE</span>(Trips), <span class="co"># Seasonal NAIVE</span></span>
<span id="cb925-12"><a href="exponential-smoothing.html#cb925-12" tabindex="-1"></a>    <span class="at">additive =</span> <span class="fu">ETS</span>(Trips <span class="sc">~</span> <span class="fu">error</span>(<span class="st">&#39;A&#39;</span>) <span class="sc">+</span> <span class="fu">trend</span>(<span class="st">&#39;A&#39;</span>) <span class="sc">+</span> <span class="fu">season</span>(<span class="st">&#39;A&#39;</span>)), <span class="co"># EST(AAA)</span></span>
<span id="cb925-13"><a href="exponential-smoothing.html#cb925-13" tabindex="-1"></a>    <span class="at">multiplicative =</span> <span class="fu">ETS</span>(Trips <span class="sc">~</span> <span class="fu">error</span>(<span class="st">&#39;M&#39;</span>) <span class="sc">+</span> <span class="fu">trend</span>(<span class="st">&#39;A&#39;</span>) <span class="sc">+</span> <span class="fu">season</span>(<span class="st">&#39;M&#39;</span>)) <span class="co"># ETS(MAM)</span></span>
<span id="cb925-14"><a href="exponential-smoothing.html#cb925-14" tabindex="-1"></a>    )</span>
<span id="cb925-15"><a href="exponential-smoothing.html#cb925-15" tabindex="-1"></a></span>
<span id="cb925-16"><a href="exponential-smoothing.html#cb925-16" tabindex="-1"></a><span class="co"># make forecats</span></span>
<span id="cb925-17"><a href="exponential-smoothing.html#cb925-17" tabindex="-1"></a>fc <span class="ot">&lt;-</span> fit <span class="sc">|&gt;</span> <span class="fu">forecast</span>(<span class="at">h =</span> <span class="st">&#39;3 years&#39;</span>)</span>
<span id="cb925-18"><a href="exponential-smoothing.html#cb925-18" tabindex="-1"></a></span>
<span id="cb925-19"><a href="exponential-smoothing.html#cb925-19" tabindex="-1"></a><span class="co"># plot the forecasts</span></span>
<span id="cb925-20"><a href="exponential-smoothing.html#cb925-20" tabindex="-1"></a>fc <span class="sc">|&gt;</span></span>
<span id="cb925-21"><a href="exponential-smoothing.html#cb925-21" tabindex="-1"></a>  <span class="fu">autoplot</span>(aus_holidays, <span class="at">level =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb925-22"><a href="exponential-smoothing.html#cb925-22" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Australian domestic tourism&quot;</span>,</span>
<span id="cb925-23"><a href="exponential-smoothing.html#cb925-23" tabindex="-1"></a>       <span class="at">y=</span><span class="st">&quot;Overnight trips (millions)&quot;</span>) <span class="sc">+</span></span>
<span id="cb925-24"><a href="exponential-smoothing.html#cb925-24" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">colour =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">&quot;Forecast&quot;</span>))</span></code></pre></div>
<p><img src="figure_html/ch08-ts-exp-smoothing-17-1.png" width="672" /></p>
<div class="sourceCode" id="cb926"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb926-1"><a href="exponential-smoothing.html#cb926-1" tabindex="-1"></a>fc <span class="sc">|&gt;</span> <span class="fu">accuracy</span>(aus_holidays)</span></code></pre></div>
<pre><code>## # A tibble: 3 × 10
##   .model         .type    ME  RMSE   MAE   MPE  MAPE  MASE RMSSE   ACF1
##   &lt;chr&gt;          &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
## 1 additive       Test  0.394 0.521 0.402  3.56  3.63  1.01 0.981 0.129 
## 2 multiplicative Test  0.591 0.710 0.591  5.45  5.45  1.48 1.34  0.312 
## 3 snaive         Test  0.692 0.948 0.811  6.28  7.49  2.03 1.78  0.0518</code></pre>
<div class="sourceCode" id="cb928"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb928-1"><a href="exponential-smoothing.html#cb928-1" tabindex="-1"></a>fit<span class="sc">$</span>additive[[<span class="dv">1</span>]] <span class="sc">|&gt;</span> <span class="fu">report</span>()</span></code></pre></div>
<pre><code>## Series: Trips 
## Model: ETS(A,A,A) 
##   Smoothing parameters:
##     alpha = 0.2561579 
##     beta  = 0.02543275 
##     gamma = 0.0001002324 
## 
##   Initial states:
##      l[0]        b[0]      s[0]      s[-1]      s[-2]    s[-3]
##  9.875393 -0.01230462 -0.568823 -0.6761713 -0.2620541 1.507048
## 
##   sigma^2:  0.2046
## 
##      AIC     AICc      BIC 
## 188.5096 191.6131 208.4852</code></pre>
<div class="sourceCode" id="cb930"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb930-1"><a href="exponential-smoothing.html#cb930-1" tabindex="-1"></a>fit<span class="sc">$</span>multiplicative[[<span class="dv">1</span>]] <span class="sc">|&gt;</span> <span class="fu">report</span>()</span></code></pre></div>
<pre><code>## Series: Trips 
## Model: ETS(M,A,M) 
##   Smoothing parameters:
##     alpha = 0.2466059 
##     beta  = 0.01562941 
##     gamma = 0.0001000005 
## 
##   Initial states:
##      l[0]        b[0]      s[0]     s[-1]     s[-2]    s[-3]
##  9.886961 -0.02459763 0.9401183 0.9262804 0.9724422 1.161159
## 
##   sigma^2:  0.0023
## 
##      AIC     AICc      BIC 
## 186.2399 189.3434 206.2155</code></pre>
</div>
<div id="holt-winters-damped-method" class="section level3 hasAnchor" number="8.3.4">
<h3><span class="header-section-number">8.3.4</span> Holt-Winters’ damped method<a href="exponential-smoothing.html#holt-winters-damped-method" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Using the Holt-Winters method for daily data, where seasonal period is
<span class="math inline">\(m=7\)</span>.</p>
<div class="sourceCode" id="cb932"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb932-1"><a href="exponential-smoothing.html#cb932-1" tabindex="-1"></a>sth_cross_ped <span class="ot">&lt;-</span> pedestrian <span class="sc">|&gt;</span></span>
<span id="cb932-2"><a href="exponential-smoothing.html#cb932-2" tabindex="-1"></a>  <span class="fu">filter</span>(Date <span class="sc">&gt;=</span> <span class="st">&#39;2016-07-01&#39;</span>, Sensor <span class="sc">==</span> <span class="st">&#39;Southern Cross Station&#39;</span>) <span class="sc">|&gt;</span></span>
<span id="cb932-3"><a href="exponential-smoothing.html#cb932-3" tabindex="-1"></a>  <span class="fu">index_by</span>(Date) <span class="sc">|&gt;</span></span>
<span id="cb932-4"><a href="exponential-smoothing.html#cb932-4" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Count =</span> <span class="fu">sum</span>(Count)<span class="sc">/</span><span class="dv">1000</span>)</span>
<span id="cb932-5"><a href="exponential-smoothing.html#cb932-5" tabindex="-1"></a></span>
<span id="cb932-6"><a href="exponential-smoothing.html#cb932-6" tabindex="-1"></a>sth_cross_ped <span class="sc">|&gt;</span></span>
<span id="cb932-7"><a href="exponential-smoothing.html#cb932-7" tabindex="-1"></a>  <span class="fu">filter</span>(Date <span class="sc">&lt;=</span> <span class="st">&#39;2016-07-31&#39;</span>) <span class="sc">|&gt;</span></span>
<span id="cb932-8"><a href="exponential-smoothing.html#cb932-8" tabindex="-1"></a>  <span class="fu">model</span>(</span>
<span id="cb932-9"><a href="exponential-smoothing.html#cb932-9" tabindex="-1"></a>    <span class="at">hw =</span> <span class="fu">ETS</span>(Count <span class="sc">~</span> <span class="fu">error</span>(<span class="st">&#39;M&#39;</span>) <span class="sc">+</span> <span class="fu">trend</span>(<span class="st">&#39;Ad&#39;</span>) <span class="sc">+</span> <span class="fu">season</span>(<span class="st">&#39;M&#39;</span>))</span>
<span id="cb932-10"><a href="exponential-smoothing.html#cb932-10" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb932-11"><a href="exponential-smoothing.html#cb932-11" tabindex="-1"></a>  <span class="fu">forecast</span>(<span class="at">h =</span> <span class="st">&#39;2 weeks&#39;</span>) <span class="sc">|&gt;</span></span>
<span id="cb932-12"><a href="exponential-smoothing.html#cb932-12" tabindex="-1"></a>  <span class="fu">autoplot</span>(sth_cross_ped  <span class="sc">|&gt;</span> <span class="fu">filter</span>(Date <span class="sc">&lt;=</span> <span class="st">&quot;2016-08-14&quot;</span>)) <span class="sc">+</span></span>
<span id="cb932-13"><a href="exponential-smoothing.html#cb932-13" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Daily traffic: Southern Cross&quot;</span>,</span>
<span id="cb932-14"><a href="exponential-smoothing.html#cb932-14" tabindex="-1"></a>       <span class="at">y=</span><span class="st">&quot;Pedestrians (&#39;000)&quot;</span>)</span></code></pre></div>
<p><img src="figure_html/ch08-ts-exp-smoothing-21-1.png" width="672" /></p>
</div>
</div>
<div id="a-taxonomy-of-exponential-smoothing-methods" class="section level2 hasAnchor" number="8.4">
<h2><span class="header-section-number">8.4</span> A taxonomy of exponential smoothing methods<a href="exponential-smoothing.html#a-taxonomy-of-exponential-smoothing-methods" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><a href="https://otexts.com/fpp3/taxonomy.html">The source of the section</a></p>
<table>
<colgroup>
<col width="24%" />
<col width="26%" />
<col width="24%" />
<col width="24%" />
</colgroup>
<thead>
<tr class="header">
<th><strong>Trend Component</strong></th>
<th><strong>Seasonal Component</strong></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td><strong>N</strong></td>
<td><strong>A</strong></td>
<td><strong>M</strong></td>
</tr>
<tr class="even">
<td></td>
<td><strong>(None)</strong></td>
<td><strong>(Additive)</strong></td>
<td><strong>(Multiplicative)</strong></td>
</tr>
<tr class="odd">
<td><strong>N (None)</strong></td>
<td>(N, N)</td>
<td>(N, A)</td>
<td>(N, M)</td>
</tr>
<tr class="even">
<td><strong>A (Additive)</strong></td>
<td>(A, N)</td>
<td>(A, A)</td>
<td>(A, M)</td>
</tr>
<tr class="odd">
<td><span class="math inline">\(A_d\)</span> <strong>(Additive damped)</strong></td>
<td>(<span class="math inline">\(A_d\)</span>, N)</td>
<td>(<span class="math inline">\(A_d\)</span>, A)</td>
<td>(<span class="math inline">\(A_d\)</span>, M)</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header">
<th>Short hand</th>
<th>Method</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>(N,N)</td>
<td>Simple exponential smoothing</td>
</tr>
<tr class="even">
<td>(A,N)</td>
<td>Holt’s linear method</td>
</tr>
<tr class="odd">
<td>(<span class="math inline">\(A_d\)</span>,N)</td>
<td>Additive damped trend method</td>
</tr>
<tr class="even">
<td>(A,A)</td>
<td>Additive Holt-Winters’ method</td>
</tr>
<tr class="odd">
<td>(A,M)</td>
<td>Multiplicative Holt-Winters’ method</td>
</tr>
<tr class="even">
<td>(<span class="math inline">\(A_d\)</span>,M)</td>
<td>Holt-Winters’ damped method</td>
</tr>
</tbody>
</table>
</div>
<div id="innovations-state-space-models-for-exponential-smoothing" class="section level2 hasAnchor" number="8.5">
<h2><span class="header-section-number">8.5</span> Innovations state space models for exponential smoothing<a href="exponential-smoothing.html#innovations-state-space-models-for-exponential-smoothing" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><a href="https://otexts.com/fpp3/ets.html">The source of the section</a></p>
<p><strong>ETS</strong> : <strong>E</strong>rror, <strong>T</strong>rend, <strong>S</strong>easonal<br />
</p>
<ul>
<li><strong>E</strong>rror: {A, M}</li>
<li><strong>T</strong>rend: {N, A, <span class="math inline">\(A_d\)</span>}</li>
<li><strong>S</strong>easonal: {N, A, M}</li>
</ul>
<p><img src="https://otexts.com/fpp3/figs/statespacemodels-1.png" /></p>
</div>
<div id="estimation-and-model-selection" class="section level2 hasAnchor" number="8.6">
<h2><span class="header-section-number">8.6</span> Estimation and model selection<a href="exponential-smoothing.html#estimation-and-model-selection" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><a href="https://otexts.com/fpp3/ets-estimation.html">The source of the section</a></p>
<div id="model-selection" class="section level3 hasAnchor" number="8.6.1">
<h3><span class="header-section-number">8.6.1</span> Model selection<a href="exponential-smoothing.html#model-selection" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The AIC, <span class="math inline">\(AIC_c\)</span> and BIC can be used to determine which of the ETS models is most appropriate for a given time series.</p>
<p><strong>Akaike’s Information Criterion (AIC)</strong><br />
</p>
<p><span class="math display">\[
AIC = - 2 log(L) + 2k
\]</span></p>
<p>where <span class="math inline">\(L\)</span> is the likelihood of the model and <span class="math inline">\(k\)</span> is the total number of parameters and initial states that have been estimated.</p>
<p><strong>The AIC corrected for small sample bias (<span class="math inline">\(BIC_c\)</span>)</strong></p>
<p><span class="math display">\[
AIC_c = AIC + \frac {2k(k+1)}{T-k-1}
\]</span>
<strong>Bayesian Information Criterion (BIC)</strong></p>
<p><span class="math display">\[
BIC = AIC + k[log(T) - 2]
\]</span></p>
</div>
<div id="example-domestic-holiday-tourist-visitor-nights-in-australia" class="section level3 hasAnchor" number="8.6.2">
<h3><span class="header-section-number">8.6.2</span> Example: Domestic holiday tourist visitor nights in Australia<a href="exponential-smoothing.html#example-domestic-holiday-tourist-visitor-nights-in-australia" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb933"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb933-1"><a href="exponential-smoothing.html#cb933-1" tabindex="-1"></a>aus_holidays <span class="ot">&lt;-</span> tourism <span class="sc">|&gt;</span></span>
<span id="cb933-2"><a href="exponential-smoothing.html#cb933-2" tabindex="-1"></a>  <span class="fu">filter</span>(Purpose <span class="sc">==</span> <span class="st">&#39;Holiday&#39;</span>) <span class="sc">|&gt;</span></span>
<span id="cb933-3"><a href="exponential-smoothing.html#cb933-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Trips =</span> <span class="fu">sum</span>(Trips)<span class="sc">/</span><span class="fl">1e3</span>)</span>
<span id="cb933-4"><a href="exponential-smoothing.html#cb933-4" tabindex="-1"></a></span>
<span id="cb933-5"><a href="exponential-smoothing.html#cb933-5" tabindex="-1"></a>fit <span class="ot">&lt;-</span> aus_holidays <span class="sc">|&gt;</span></span>
<span id="cb933-6"><a href="exponential-smoothing.html#cb933-6" tabindex="-1"></a>  <span class="fu">model</span>(<span class="fu">ETS</span>(Trips))</span>
<span id="cb933-7"><a href="exponential-smoothing.html#cb933-7" tabindex="-1"></a></span>
<span id="cb933-8"><a href="exponential-smoothing.html#cb933-8" tabindex="-1"></a><span class="fu">report</span>(fit)</span></code></pre></div>
<pre><code>## Series: Trips 
## Model: ETS(M,N,A) 
##   Smoothing parameters:
##     alpha = 0.3484054 
##     gamma = 0.0001000018 
## 
##   Initial states:
##      l[0]       s[0]      s[-1]      s[-2]    s[-3]
##  9.727072 -0.5376106 -0.6884343 -0.2933663 1.519411
## 
##   sigma^2:  0.0022
## 
##      AIC     AICc      BIC 
## 226.2289 227.7845 242.9031</code></pre>
<div class="sourceCode" id="cb935"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb935-1"><a href="exponential-smoothing.html#cb935-1" tabindex="-1"></a><span class="fu">components</span>(fit) <span class="sc">|&gt;</span></span>
<span id="cb935-2"><a href="exponential-smoothing.html#cb935-2" tabindex="-1"></a>  <span class="fu">autoplot</span>() <span class="sc">+</span></span>
<span id="cb935-3"><a href="exponential-smoothing.html#cb935-3" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;ETS(M,N,A) components&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 4 rows containing missing values or values outside the scale range (`geom_line()`).</code></pre>
<p><img src="figure_html/ch08-ts-exp-smoothing-23-1.png" width="672" /></p>
</div>
</div>
<div id="forecasting-with-ets-models" class="section level2 hasAnchor" number="8.7">
<h2><span class="header-section-number">8.7</span> Forecasting with ETS models<a href="exponential-smoothing.html#forecasting-with-ets-models" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><a href="https://otexts.com/fpp3/ets-forecasting.html">The source of the section</a></p>
<div class="sourceCode" id="cb937"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb937-1"><a href="exponential-smoothing.html#cb937-1" tabindex="-1"></a>fit <span class="sc">|&gt;</span></span>
<span id="cb937-2"><a href="exponential-smoothing.html#cb937-2" tabindex="-1"></a>  <span class="fu">forecast</span>(<span class="at">h =</span> <span class="dv">8</span>) <span class="sc">|&gt;</span></span>
<span id="cb937-3"><a href="exponential-smoothing.html#cb937-3" tabindex="-1"></a>  <span class="fu">autoplot</span>(aus_holidays) <span class="sc">+</span></span>
<span id="cb937-4"><a href="exponential-smoothing.html#cb937-4" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Australian domestic tourism&quot;</span>,</span>
<span id="cb937-5"><a href="exponential-smoothing.html#cb937-5" tabindex="-1"></a>       <span class="at">y=</span><span class="st">&quot;Overnight trips (millions)&quot;</span>)</span></code></pre></div>
<p><img src="figure_html/ch08-ts-exp-smoothing-24-1.png" width="672" /></p>
<div id="prediction-intervals-2" class="section level3 hasAnchor" number="8.7.1">
<h3><span class="header-section-number">8.7.1</span> Prediction intervals<a href="exponential-smoothing.html#prediction-intervals-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><span class="math display">\[
\hat y_{T+h|T} \pm c\sigma_h
\]</span>
where where <span class="math inline">\(c\)</span> depends on the coverage probability, and <span class="math inline">\(c\sigma^2_h\)</span> is the forecast variance.</p>
<p><img src="pics/pi.png" /></p>
</div>
</div>
<div id="excercises-3" class="section level2 hasAnchor" number="8.8">
<h2><span class="header-section-number">8.8</span> Excercises<a href="exponential-smoothing.html#excercises-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li></li>
</ol>
<div class="sourceCode" id="cb938"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb938-1"><a href="exponential-smoothing.html#cb938-1" tabindex="-1"></a><span class="co"># Simple Exp Smoothing is ETS(ANN)</span></span>
<span id="cb938-2"><a href="exponential-smoothing.html#cb938-2" tabindex="-1"></a></span>
<span id="cb938-3"><a href="exponential-smoothing.html#cb938-3" tabindex="-1"></a>pigs <span class="ot">&lt;-</span> aus_livestock <span class="sc">|&gt;</span></span>
<span id="cb938-4"><a href="exponential-smoothing.html#cb938-4" tabindex="-1"></a>  <span class="fu">filter</span>(Animal <span class="sc">==</span> <span class="st">&#39;Pigs&#39;</span>, State <span class="sc">==</span> <span class="st">&#39;Victoria&#39;</span>)</span>
<span id="cb938-5"><a href="exponential-smoothing.html#cb938-5" tabindex="-1"></a></span>
<span id="cb938-6"><a href="exponential-smoothing.html#cb938-6" tabindex="-1"></a>pigs <span class="sc">|&gt;</span></span>
<span id="cb938-7"><a href="exponential-smoothing.html#cb938-7" tabindex="-1"></a>  <span class="fu">autoplot</span>(Count) <span class="sc">+</span></span>
<span id="cb938-8"><a href="exponential-smoothing.html#cb938-8" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&#39;Pigs slaughtered in Victoria&#39;</span>)</span></code></pre></div>
<p><img src="figure_html/ch08-ts-exp-smoothing-25-1.png" width="672" /></p>
<div class="sourceCode" id="cb939"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb939-1"><a href="exponential-smoothing.html#cb939-1" tabindex="-1"></a><span class="co"># a. ETS(ANN) - no trend, no seasonality</span></span>
<span id="cb939-2"><a href="exponential-smoothing.html#cb939-2" tabindex="-1"></a></span>
<span id="cb939-3"><a href="exponential-smoothing.html#cb939-3" tabindex="-1"></a>fit <span class="ot">&lt;-</span> pigs <span class="sc">|&gt;</span></span>
<span id="cb939-4"><a href="exponential-smoothing.html#cb939-4" tabindex="-1"></a>  <span class="fu">model</span>(<span class="fu">ETS</span>(Count <span class="sc">~</span> <span class="fu">error</span>(<span class="st">&#39;A&#39;</span>) <span class="sc">+</span> <span class="fu">trend</span>(<span class="st">&#39;N&#39;</span>) <span class="sc">+</span> <span class="fu">season</span>(<span class="st">&#39;N&#39;</span>)))</span>
<span id="cb939-5"><a href="exponential-smoothing.html#cb939-5" tabindex="-1"></a></span>
<span id="cb939-6"><a href="exponential-smoothing.html#cb939-6" tabindex="-1"></a>fit <span class="sc">|&gt;</span></span>
<span id="cb939-7"><a href="exponential-smoothing.html#cb939-7" tabindex="-1"></a>  <span class="fu">report</span>()</span></code></pre></div>
<pre><code>## Series: Count 
## Model: ETS(A,N,N) 
##   Smoothing parameters:
##     alpha = 0.3221247 
## 
##   Initial states:
##      l[0]
##  100646.6
## 
##   sigma^2:  87480760
## 
##      AIC     AICc      BIC 
## 13737.10 13737.14 13750.07</code></pre>
<div class="sourceCode" id="cb941"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb941-1"><a href="exponential-smoothing.html#cb941-1" tabindex="-1"></a><span class="co"># forecast</span></span>
<span id="cb941-2"><a href="exponential-smoothing.html#cb941-2" tabindex="-1"></a>fc <span class="ot">&lt;-</span> fit <span class="sc">|&gt;</span></span>
<span id="cb941-3"><a href="exponential-smoothing.html#cb941-3" tabindex="-1"></a>  <span class="fu">forecast</span>(<span class="at">h =</span> <span class="dv">4</span>)</span>
<span id="cb941-4"><a href="exponential-smoothing.html#cb941-4" tabindex="-1"></a></span>
<span id="cb941-5"><a href="exponential-smoothing.html#cb941-5" tabindex="-1"></a>fc</span></code></pre></div>
<pre><code>## # A fable: 4 x 6 [1M]
## # Key:     Animal, State, .model [1]
##   Animal State    .model                                                        Month             Count  .mean
##   &lt;fct&gt;  &lt;fct&gt;    &lt;chr&gt;                                                         &lt;mth&gt;            &lt;dist&gt;  &lt;dbl&gt;
## 1 Pigs   Victoria &quot;ETS(Count ~ error(\&quot;A\&quot;) + trend(\&quot;N\&quot;) + season(\&quot;N\&quot;))&quot; 2019 Jan N(95187, 8.7e+07) 95187.
## 2 Pigs   Victoria &quot;ETS(Count ~ error(\&quot;A\&quot;) + trend(\&quot;N\&quot;) + season(\&quot;N\&quot;))&quot; 2019 Feb N(95187, 9.7e+07) 95187.
## 3 Pigs   Victoria &quot;ETS(Count ~ error(\&quot;A\&quot;) + trend(\&quot;N\&quot;) + season(\&quot;N\&quot;))&quot; 2019 Mar N(95187, 1.1e+08) 95187.
## 4 Pigs   Victoria &quot;ETS(Count ~ error(\&quot;A\&quot;) + trend(\&quot;N\&quot;) + season(\&quot;N\&quot;))&quot; 2019 Apr N(95187, 1.1e+08) 95187.</code></pre>
<div class="sourceCode" id="cb943"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb943-1"><a href="exponential-smoothing.html#cb943-1" tabindex="-1"></a>aug <span class="ot">&lt;-</span> fit <span class="sc">|&gt;</span> <span class="fu">augment</span>()</span>
<span id="cb943-2"><a href="exponential-smoothing.html#cb943-2" tabindex="-1"></a></span>
<span id="cb943-3"><a href="exponential-smoothing.html#cb943-3" tabindex="-1"></a><span class="co"># b</span></span>
<span id="cb943-4"><a href="exponential-smoothing.html#cb943-4" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&#39;PI(1) low: &#39;</span>, <span class="fu">round</span>(fc<span class="sc">$</span>.mean[<span class="dv">1</span>] <span class="sc">-</span> <span class="fl">1.96</span><span class="sc">*</span><span class="fu">sd</span>(aug<span class="sc">$</span>.resid), <span class="dv">2</span>)))</span></code></pre></div>
<pre><code>## [1] &quot;PI(1) low:  76871.01&quot;</code></pre>
<div class="sourceCode" id="cb945"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb945-1"><a href="exponential-smoothing.html#cb945-1" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&#39;PI(1) hi: &#39;</span>, <span class="fu">round</span>(fc<span class="sc">$</span>.mean[<span class="dv">1</span>] <span class="sc">+</span> <span class="fl">1.96</span><span class="sc">*</span><span class="fu">sd</span>(aug<span class="sc">$</span>.resid), <span class="dv">2</span>)))</span></code></pre></div>
<pre><code>## [1] &quot;PI(1) hi:  113502.1&quot;</code></pre>
<div class="sourceCode" id="cb947"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb947-1"><a href="exponential-smoothing.html#cb947-1" tabindex="-1"></a>fc <span class="sc">|&gt;</span> <span class="fu">hilo</span>(<span class="at">level =</span> <span class="dv">95</span>) <span class="sc">|&gt;</span></span>
<span id="cb947-2"><a href="exponential-smoothing.html#cb947-2" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">month</span>(Month) <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb947-3"><a href="exponential-smoothing.html#cb947-3" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">`</span><span class="at">95%</span><span class="st">`</span>)</span></code></pre></div>
<pre><code>## # A tsibble: 1 x 2 [1M]
##                    `95%`    Month
##                   &lt;hilo&gt;    &lt;mth&gt;
## 1 [76854.79, 113518.3]95 2019 Jan</code></pre>
<ol start="2" style="list-style-type: decimal">
<li></li>
</ol>
<div class="sourceCode" id="cb949"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb949-1"><a href="exponential-smoothing.html#cb949-1" tabindex="-1"></a>simple_exp_smoothing <span class="ot">&lt;-</span> <span class="cf">function</span>(y_ts, alpha, level){</span>
<span id="cb949-2"><a href="exponential-smoothing.html#cb949-2" tabindex="-1"></a>  y <span class="ot">&lt;-</span> <span class="fu">numeric</span>(<span class="dv">1</span>) </span>
<span id="cb949-3"><a href="exponential-smoothing.html#cb949-3" tabindex="-1"></a>  l <span class="ot">&lt;-</span> <span class="fu">numeric</span>(<span class="dv">1</span>)</span>
<span id="cb949-4"><a href="exponential-smoothing.html#cb949-4" tabindex="-1"></a>  f <span class="ot">&lt;-</span> <span class="fu">numeric</span>(<span class="dv">1</span>)</span>
<span id="cb949-5"><a href="exponential-smoothing.html#cb949-5" tabindex="-1"></a>  </span>
<span id="cb949-6"><a href="exponential-smoothing.html#cb949-6" tabindex="-1"></a>  y[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb949-7"><a href="exponential-smoothing.html#cb949-7" tabindex="-1"></a>  l[<span class="dv">1</span>] <span class="ot">&lt;-</span> level</span>
<span id="cb949-8"><a href="exponential-smoothing.html#cb949-8" tabindex="-1"></a>  f[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb949-9"><a href="exponential-smoothing.html#cb949-9" tabindex="-1"></a>  </span>
<span id="cb949-10"><a href="exponential-smoothing.html#cb949-10" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>(<span class="fu">length</span>(y_ts)<span class="sc">+</span><span class="dv">1</span>)) {</span>
<span id="cb949-11"><a href="exponential-smoothing.html#cb949-11" tabindex="-1"></a>    y[i<span class="sc">+</span><span class="dv">1</span>] <span class="ot">&lt;-</span> y_ts[i]</span>
<span id="cb949-12"><a href="exponential-smoothing.html#cb949-12" tabindex="-1"></a>    l[i<span class="sc">+</span><span class="dv">1</span>] <span class="ot">&lt;-</span> alpha <span class="sc">*</span> y[i<span class="sc">+</span><span class="dv">1</span>]<span class="sc">+</span>(<span class="dv">1</span><span class="sc">-</span>alpha)<span class="sc">*</span>l[i]</span>
<span id="cb949-13"><a href="exponential-smoothing.html#cb949-13" tabindex="-1"></a>    f[i<span class="sc">+</span><span class="dv">1</span>] <span class="ot">&lt;-</span> l[i]</span>
<span id="cb949-14"><a href="exponential-smoothing.html#cb949-14" tabindex="-1"></a>  }</span>
<span id="cb949-15"><a href="exponential-smoothing.html#cb949-15" tabindex="-1"></a>  <span class="fu">return</span>(f[<span class="fu">length</span>(f)])</span>
<span id="cb949-16"><a href="exponential-smoothing.html#cb949-16" tabindex="-1"></a>}</span>
<span id="cb949-17"><a href="exponential-smoothing.html#cb949-17" tabindex="-1"></a></span>
<span id="cb949-18"><a href="exponential-smoothing.html#cb949-18" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fl">0.3221247</span></span>
<span id="cb949-19"><a href="exponential-smoothing.html#cb949-19" tabindex="-1"></a>l0 <span class="ot">&lt;-</span> <span class="fl">100646.6</span></span>
<span id="cb949-20"><a href="exponential-smoothing.html#cb949-20" tabindex="-1"></a></span>
<span id="cb949-21"><a href="exponential-smoothing.html#cb949-21" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&#39;SES manual one-step forecast: &#39;</span>, <span class="fu">simple_exp_smoothing</span>(pigs<span class="sc">$</span>Count, a, l0)))</span></code></pre></div>
<pre><code>## [1] &quot;SES manual one-step forecast:  95186.5574351184&quot;</code></pre>
<div class="sourceCode" id="cb951"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb951-1"><a href="exponential-smoothing.html#cb951-1" tabindex="-1"></a><span class="co"># ETS()</span></span>
<span id="cb951-2"><a href="exponential-smoothing.html#cb951-2" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&#39;ETS(ANN) one-step forecast: &#39;</span>, fc<span class="sc">$</span>.mean[<span class="dv">1</span>]))</span></code></pre></div>
<pre><code>## [1] &quot;ETS(ANN) one-step forecast:  95186.5574309915&quot;</code></pre>
<ol start="3" style="list-style-type: decimal">
<li></li>
</ol>
<div class="sourceCode" id="cb953"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb953-1"><a href="exponential-smoothing.html#cb953-1" tabindex="-1"></a>simple_exp_smoothing <span class="ot">&lt;-</span> <span class="cf">function</span>(y_ts, params){</span>
<span id="cb953-2"><a href="exponential-smoothing.html#cb953-2" tabindex="-1"></a>  y <span class="ot">&lt;-</span> <span class="fu">numeric</span>(<span class="dv">1</span>) </span>
<span id="cb953-3"><a href="exponential-smoothing.html#cb953-3" tabindex="-1"></a>  l <span class="ot">&lt;-</span> <span class="fu">numeric</span>(<span class="dv">1</span>)</span>
<span id="cb953-4"><a href="exponential-smoothing.html#cb953-4" tabindex="-1"></a>  f <span class="ot">&lt;-</span> <span class="fu">numeric</span>(<span class="dv">1</span>)</span>
<span id="cb953-5"><a href="exponential-smoothing.html#cb953-5" tabindex="-1"></a>  e <span class="ot">&lt;-</span> <span class="fu">numeric</span>(<span class="dv">1</span>)</span>
<span id="cb953-6"><a href="exponential-smoothing.html#cb953-6" tabindex="-1"></a>  </span>
<span id="cb953-7"><a href="exponential-smoothing.html#cb953-7" tabindex="-1"></a>  alpha <span class="ot">&lt;-</span> params[<span class="dv">1</span>]</span>
<span id="cb953-8"><a href="exponential-smoothing.html#cb953-8" tabindex="-1"></a>  level <span class="ot">&lt;-</span> params[<span class="dv">2</span>]</span>
<span id="cb953-9"><a href="exponential-smoothing.html#cb953-9" tabindex="-1"></a>  y[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb953-10"><a href="exponential-smoothing.html#cb953-10" tabindex="-1"></a>  l[<span class="dv">1</span>] <span class="ot">&lt;-</span> level</span>
<span id="cb953-11"><a href="exponential-smoothing.html#cb953-11" tabindex="-1"></a>  f[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb953-12"><a href="exponential-smoothing.html#cb953-12" tabindex="-1"></a>  e[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb953-13"><a href="exponential-smoothing.html#cb953-13" tabindex="-1"></a>  </span>
<span id="cb953-14"><a href="exponential-smoothing.html#cb953-14" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>(<span class="fu">length</span>(y_ts))) {</span>
<span id="cb953-15"><a href="exponential-smoothing.html#cb953-15" tabindex="-1"></a>    y[i<span class="sc">+</span><span class="dv">1</span>] <span class="ot">&lt;-</span> y_ts[i]</span>
<span id="cb953-16"><a href="exponential-smoothing.html#cb953-16" tabindex="-1"></a>    l[i<span class="sc">+</span><span class="dv">1</span>] <span class="ot">&lt;-</span> alpha <span class="sc">*</span> y[i<span class="sc">+</span><span class="dv">1</span>]<span class="sc">+</span>(<span class="dv">1</span><span class="sc">-</span>alpha)<span class="sc">*</span>l[i]</span>
<span id="cb953-17"><a href="exponential-smoothing.html#cb953-17" tabindex="-1"></a>    f[i<span class="sc">+</span><span class="dv">1</span>] <span class="ot">&lt;-</span> l[i]</span>
<span id="cb953-18"><a href="exponential-smoothing.html#cb953-18" tabindex="-1"></a>    e[i<span class="sc">+</span><span class="dv">1</span>] <span class="ot">&lt;-</span> y[i<span class="sc">+</span><span class="dv">1</span>] <span class="sc">-</span> f[i<span class="sc">+</span><span class="dv">1</span>]</span>
<span id="cb953-19"><a href="exponential-smoothing.html#cb953-19" tabindex="-1"></a>  }</span>
<span id="cb953-20"><a href="exponential-smoothing.html#cb953-20" tabindex="-1"></a>  sse <span class="ot">&lt;-</span> <span class="fu">sum</span>(e<span class="sc">^</span><span class="dv">2</span>, <span class="at">na.rm =</span> T)</span>
<span id="cb953-21"><a href="exponential-smoothing.html#cb953-21" tabindex="-1"></a>  <span class="fu">return</span>(sse)</span>
<span id="cb953-22"><a href="exponential-smoothing.html#cb953-22" tabindex="-1"></a>}</span>
<span id="cb953-23"><a href="exponential-smoothing.html#cb953-23" tabindex="-1"></a></span>
<span id="cb953-24"><a href="exponential-smoothing.html#cb953-24" tabindex="-1"></a></span>
<span id="cb953-25"><a href="exponential-smoothing.html#cb953-25" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">optim</span>(<span class="at">par=</span><span class="fu">c</span>(<span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">level=</span><span class="dv">0</span>), <span class="at">fn =</span> simple_exp_smoothing, <span class="at">y_ts =</span> pigs<span class="sc">$</span>Count, <span class="at">method =</span> <span class="st">&quot;L-BFGS-B&quot;</span>, <span class="at">lower =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fu">min</span>(pigs<span class="sc">$</span>Count)), <span class="at">upper =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="fu">max</span>(pigs<span class="sc">$</span>Count)))</span>
<span id="cb953-26"><a href="exponential-smoothing.html#cb953-26" tabindex="-1"></a></span>
<span id="cb953-27"><a href="exponential-smoothing.html#cb953-27" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">&#39;Optimal alpha: &#39;</span>, result<span class="sc">$</span>par[<span class="dv">1</span>]))</span></code></pre></div>
<pre><code>## [1] &quot;Optimal alpha: 0.321994872263985&quot;</code></pre>
<div class="sourceCode" id="cb955"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb955-1"><a href="exponential-smoothing.html#cb955-1" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">&#39;Optimal level: &#39;</span>, result<span class="sc">$</span>par[<span class="dv">2</span>]))</span></code></pre></div>
<pre><code>## [1] &quot;Optimal level: 100533.064675812&quot;</code></pre>
<div class="sourceCode" id="cb957"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb957-1"><a href="exponential-smoothing.html#cb957-1" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">&#39;SSE: &#39;</span>, result<span class="sc">$</span>value))</span></code></pre></div>
<pre><code>## [1] &quot;SSE: 48639277164.8261&quot;</code></pre>
<div class="sourceCode" id="cb959"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb959-1"><a href="exponential-smoothing.html#cb959-1" tabindex="-1"></a><span class="fu">coef</span>(fit<span class="sc">$</span><span class="st">`</span><span class="at">ETS(Count ~ error(&quot;A&quot;) + trend(&quot;N&quot;) + season(&quot;N&quot;))</span><span class="st">`</span>[[<span class="dv">1</span>]])</span></code></pre></div>
<pre><code>## # A tibble: 2 × 2
##   term    estimate
##   &lt;chr&gt;      &lt;dbl&gt;
## 1 alpha      0.322
## 2 l[0]  100647.</code></pre>
<ol start="4" style="list-style-type: decimal">
<li></li>
</ol>
<div class="sourceCode" id="cb961"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb961-1"><a href="exponential-smoothing.html#cb961-1" tabindex="-1"></a><span class="co"># Simple Exponential Smoothing</span></span>
<span id="cb961-2"><a href="exponential-smoothing.html#cb961-2" tabindex="-1"></a>simple_exp_smoothing <span class="ot">&lt;-</span> <span class="cf">function</span>(data, alpha, level, <span class="at">h =</span> <span class="dv">0</span>){</span>
<span id="cb961-3"><a href="exponential-smoothing.html#cb961-3" tabindex="-1"></a>  y <span class="ot">&lt;-</span> <span class="fu">numeric</span>(<span class="dv">1</span>) </span>
<span id="cb961-4"><a href="exponential-smoothing.html#cb961-4" tabindex="-1"></a>  l <span class="ot">&lt;-</span> <span class="fu">numeric</span>(<span class="dv">1</span>)</span>
<span id="cb961-5"><a href="exponential-smoothing.html#cb961-5" tabindex="-1"></a>  f <span class="ot">&lt;-</span> <span class="fu">numeric</span>(<span class="dv">1</span>)</span>
<span id="cb961-6"><a href="exponential-smoothing.html#cb961-6" tabindex="-1"></a>  </span>
<span id="cb961-7"><a href="exponential-smoothing.html#cb961-7" tabindex="-1"></a>  y[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb961-8"><a href="exponential-smoothing.html#cb961-8" tabindex="-1"></a>  l[<span class="dv">1</span>] <span class="ot">&lt;-</span> level</span>
<span id="cb961-9"><a href="exponential-smoothing.html#cb961-9" tabindex="-1"></a>  f[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb961-10"><a href="exponential-smoothing.html#cb961-10" tabindex="-1"></a>  </span>
<span id="cb961-11"><a href="exponential-smoothing.html#cb961-11" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>(<span class="fu">length</span>(data) <span class="sc">+</span> h)) {</span>
<span id="cb961-12"><a href="exponential-smoothing.html#cb961-12" tabindex="-1"></a>    y[i<span class="sc">+</span><span class="dv">1</span>] <span class="ot">&lt;-</span> data[i]</span>
<span id="cb961-13"><a href="exponential-smoothing.html#cb961-13" tabindex="-1"></a>    l[i<span class="sc">+</span><span class="dv">1</span>] <span class="ot">&lt;-</span> alpha <span class="sc">*</span> y[i<span class="sc">+</span><span class="dv">1</span>]<span class="sc">+</span>(<span class="dv">1</span><span class="sc">-</span>alpha)<span class="sc">*</span>l[i]</span>
<span id="cb961-14"><a href="exponential-smoothing.html#cb961-14" tabindex="-1"></a>    f[i<span class="sc">+</span><span class="dv">1</span>] <span class="ot">&lt;-</span> l[i]</span>
<span id="cb961-15"><a href="exponential-smoothing.html#cb961-15" tabindex="-1"></a>  }</span>
<span id="cb961-16"><a href="exponential-smoothing.html#cb961-16" tabindex="-1"></a>  <span class="cf">if</span>(h <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb961-17"><a href="exponential-smoothing.html#cb961-17" tabindex="-1"></a>    <span class="fu">return</span>(f[<span class="dv">2</span><span class="sc">:</span><span class="fu">length</span>(f)])</span>
<span id="cb961-18"><a href="exponential-smoothing.html#cb961-18" tabindex="-1"></a>  </span>
<span id="cb961-19"><a href="exponential-smoothing.html#cb961-19" tabindex="-1"></a>  <span class="fu">return</span>(f[<span class="fu">length</span>(f)])</span>
<span id="cb961-20"><a href="exponential-smoothing.html#cb961-20" tabindex="-1"></a>}</span>
<span id="cb961-21"><a href="exponential-smoothing.html#cb961-21" tabindex="-1"></a></span>
<span id="cb961-22"><a href="exponential-smoothing.html#cb961-22" tabindex="-1"></a><span class="co"># Sum of squared errors</span></span>
<span id="cb961-23"><a href="exponential-smoothing.html#cb961-23" tabindex="-1"></a>sse <span class="ot">&lt;-</span> <span class="cf">function</span>(data, params){</span>
<span id="cb961-24"><a href="exponential-smoothing.html#cb961-24" tabindex="-1"></a>  e <span class="ot">&lt;-</span> <span class="fu">numeric</span>(<span class="dv">1</span>)</span>
<span id="cb961-25"><a href="exponential-smoothing.html#cb961-25" tabindex="-1"></a>  </span>
<span id="cb961-26"><a href="exponential-smoothing.html#cb961-26" tabindex="-1"></a>  alpha <span class="ot">&lt;-</span> params[<span class="dv">1</span>]</span>
<span id="cb961-27"><a href="exponential-smoothing.html#cb961-27" tabindex="-1"></a>  level <span class="ot">&lt;-</span> params[<span class="dv">2</span>]</span>
<span id="cb961-28"><a href="exponential-smoothing.html#cb961-28" tabindex="-1"></a>  e[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb961-29"><a href="exponential-smoothing.html#cb961-29" tabindex="-1"></a>  f <span class="ot">&lt;-</span> <span class="fu">simple_exp_smoothing</span>(data, alpha, level)</span>
<span id="cb961-30"><a href="exponential-smoothing.html#cb961-30" tabindex="-1"></a>  sse <span class="ot">&lt;-</span> <span class="fu">sum</span>((data <span class="sc">-</span> f)<span class="sc">^</span><span class="dv">2</span>, <span class="at">na.rm =</span> T)</span>
<span id="cb961-31"><a href="exponential-smoothing.html#cb961-31" tabindex="-1"></a>  <span class="fu">return</span>(sse)</span>
<span id="cb961-32"><a href="exponential-smoothing.html#cb961-32" tabindex="-1"></a>}</span>
<span id="cb961-33"><a href="exponential-smoothing.html#cb961-33" tabindex="-1"></a></span>
<span id="cb961-34"><a href="exponential-smoothing.html#cb961-34" tabindex="-1"></a><span class="co"># Find optimal params</span></span>
<span id="cb961-35"><a href="exponential-smoothing.html#cb961-35" tabindex="-1"></a>optimal_params <span class="ot">&lt;-</span> <span class="cf">function</span>(data){</span>
<span id="cb961-36"><a href="exponential-smoothing.html#cb961-36" tabindex="-1"></a>  result <span class="ot">&lt;-</span> <span class="fu">optim</span>(<span class="at">par=</span><span class="fu">c</span>(<span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">level=</span><span class="dv">0</span>), </span>
<span id="cb961-37"><a href="exponential-smoothing.html#cb961-37" tabindex="-1"></a>                  <span class="at">fn =</span> sse, </span>
<span id="cb961-38"><a href="exponential-smoothing.html#cb961-38" tabindex="-1"></a>                  <span class="at">data =</span> data, </span>
<span id="cb961-39"><a href="exponential-smoothing.html#cb961-39" tabindex="-1"></a>                  <span class="at">method =</span> <span class="st">&quot;L-BFGS-B&quot;</span>, </span>
<span id="cb961-40"><a href="exponential-smoothing.html#cb961-40" tabindex="-1"></a>                  <span class="at">lower =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fu">min</span>(data)), </span>
<span id="cb961-41"><a href="exponential-smoothing.html#cb961-41" tabindex="-1"></a>                  <span class="at">upper =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="fu">max</span>(data)))</span>
<span id="cb961-42"><a href="exponential-smoothing.html#cb961-42" tabindex="-1"></a>  <span class="fu">return</span>(result)</span>
<span id="cb961-43"><a href="exponential-smoothing.html#cb961-43" tabindex="-1"></a>}</span>
<span id="cb961-44"><a href="exponential-smoothing.html#cb961-44" tabindex="-1"></a></span>
<span id="cb961-45"><a href="exponential-smoothing.html#cb961-45" tabindex="-1"></a><span class="co"># SES Forecast</span></span>
<span id="cb961-46"><a href="exponential-smoothing.html#cb961-46" tabindex="-1"></a>SES_onestep_forecast <span class="ot">&lt;-</span> <span class="cf">function</span>(data){</span>
<span id="cb961-47"><a href="exponential-smoothing.html#cb961-47" tabindex="-1"></a>  result <span class="ot">&lt;-</span> <span class="fu">optimal_params</span>(data)</span>
<span id="cb961-48"><a href="exponential-smoothing.html#cb961-48" tabindex="-1"></a>  alpha <span class="ot">=</span> result<span class="sc">$</span>par[<span class="dv">1</span>]</span>
<span id="cb961-49"><a href="exponential-smoothing.html#cb961-49" tabindex="-1"></a>  level <span class="ot">=</span> result<span class="sc">$</span>par[<span class="dv">2</span>]</span>
<span id="cb961-50"><a href="exponential-smoothing.html#cb961-50" tabindex="-1"></a>  </span>
<span id="cb961-51"><a href="exponential-smoothing.html#cb961-51" tabindex="-1"></a>  fc <span class="ot">&lt;-</span> <span class="fu">simple_exp_smoothing</span>(data, alpha, level, <span class="at">h=</span><span class="dv">1</span>)</span>
<span id="cb961-52"><a href="exponential-smoothing.html#cb961-52" tabindex="-1"></a>  </span>
<span id="cb961-53"><a href="exponential-smoothing.html#cb961-53" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">list</span>(<span class="at">alpha =</span> alpha,</span>
<span id="cb961-54"><a href="exponential-smoothing.html#cb961-54" tabindex="-1"></a>           <span class="at">level =</span> level,</span>
<span id="cb961-55"><a href="exponential-smoothing.html#cb961-55" tabindex="-1"></a>           <span class="at">sse =</span> result<span class="sc">$</span>value,</span>
<span id="cb961-56"><a href="exponential-smoothing.html#cb961-56" tabindex="-1"></a>           <span class="st">`</span><span class="at">one-step forecast</span><span class="st">`</span> <span class="ot">=</span> fc</span>
<span id="cb961-57"><a href="exponential-smoothing.html#cb961-57" tabindex="-1"></a>           ))</span>
<span id="cb961-58"><a href="exponential-smoothing.html#cb961-58" tabindex="-1"></a>}</span>
<span id="cb961-59"><a href="exponential-smoothing.html#cb961-59" tabindex="-1"></a></span>
<span id="cb961-60"><a href="exponential-smoothing.html#cb961-60" tabindex="-1"></a><span class="co"># Test</span></span>
<span id="cb961-61"><a href="exponential-smoothing.html#cb961-61" tabindex="-1"></a></span>
<span id="cb961-62"><a href="exponential-smoothing.html#cb961-62" tabindex="-1"></a><span class="fu">SES_onestep_forecast</span>(pigs<span class="sc">$</span>Count)</span></code></pre></div>
<pre><code>## $alpha
##     alpha 
## 0.3219949 
## 
## $level
##    level 
## 100533.1 
## 
## $sse
## [1] 48639277165
## 
## $`one-step forecast`
## [1] 95186.74</code></pre>
<div class="sourceCode" id="cb963"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb963-1"><a href="exponential-smoothing.html#cb963-1" tabindex="-1"></a><span class="co"># Data Viz</span></span></code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li></li>
</ol>
<div class="sourceCode" id="cb964"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb964-1"><a href="exponential-smoothing.html#cb964-1" tabindex="-1"></a><span class="co"># a.</span></span>
<span id="cb964-2"><a href="exponential-smoothing.html#cb964-2" tabindex="-1"></a></span>
<span id="cb964-3"><a href="exponential-smoothing.html#cb964-3" tabindex="-1"></a>nl <span class="ot">&lt;-</span> global_economy <span class="sc">|&gt;</span></span>
<span id="cb964-4"><a href="exponential-smoothing.html#cb964-4" tabindex="-1"></a>  <span class="fu">filter</span>(Country <span class="sc">==</span> <span class="st">&#39;Netherlands&#39;</span>)</span>
<span id="cb964-5"><a href="exponential-smoothing.html#cb964-5" tabindex="-1"></a></span>
<span id="cb964-6"><a href="exponential-smoothing.html#cb964-6" tabindex="-1"></a>nl <span class="sc">|&gt;</span></span>
<span id="cb964-7"><a href="exponential-smoothing.html#cb964-7" tabindex="-1"></a>  <span class="fu">autoplot</span>(Exports) <span class="sc">+</span></span>
<span id="cb964-8"><a href="exponential-smoothing.html#cb964-8" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&#39;The Netherlands exports&#39;</span>, <span class="at">y =</span> <span class="st">&#39;% of GDP&#39;</span>)</span></code></pre></div>
<p><img src="figure_html/ch08-ts-exp-smoothing-35-1.png" width="672" /></p>
<div class="sourceCode" id="cb965"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb965-1"><a href="exponential-smoothing.html#cb965-1" tabindex="-1"></a><span class="co"># =&gt; Increasing trend and no seasonality (such as it is annual data)</span></span></code></pre></div>
<div class="sourceCode" id="cb966"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb966-1"><a href="exponential-smoothing.html#cb966-1" tabindex="-1"></a><span class="co"># b. ETS(ANN)</span></span>
<span id="cb966-2"><a href="exponential-smoothing.html#cb966-2" tabindex="-1"></a></span>
<span id="cb966-3"><a href="exponential-smoothing.html#cb966-3" tabindex="-1"></a>nl <span class="sc">|&gt;</span></span>
<span id="cb966-4"><a href="exponential-smoothing.html#cb966-4" tabindex="-1"></a>  <span class="fu">model</span>(<span class="fu">ETS</span>(Exports <span class="sc">~</span> <span class="fu">error</span>(<span class="st">&#39;A&#39;</span>) <span class="sc">+</span> <span class="fu">trend</span>(<span class="st">&#39;N&#39;</span>) <span class="sc">+</span> <span class="fu">season</span>(<span class="st">&#39;N&#39;</span>))) <span class="sc">|&gt;</span></span>
<span id="cb966-5"><a href="exponential-smoothing.html#cb966-5" tabindex="-1"></a>  <span class="fu">forecast</span>() <span class="sc">|&gt;</span></span>
<span id="cb966-6"><a href="exponential-smoothing.html#cb966-6" tabindex="-1"></a>  <span class="fu">autoplot</span>(nl <span class="sc">|&gt;</span> <span class="fu">filter</span>(Year <span class="sc">&gt;</span> <span class="dv">2010</span>))</span></code></pre></div>
<p><img src="figure_html/ch08-ts-exp-smoothing-36-1.png" width="672" /></p>
<div class="sourceCode" id="cb967"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb967-1"><a href="exponential-smoothing.html#cb967-1" tabindex="-1"></a><span class="co"># c</span></span>
<span id="cb967-2"><a href="exponential-smoothing.html#cb967-2" tabindex="-1"></a></span>
<span id="cb967-3"><a href="exponential-smoothing.html#cb967-3" tabindex="-1"></a>nl <span class="sc">|&gt;</span></span>
<span id="cb967-4"><a href="exponential-smoothing.html#cb967-4" tabindex="-1"></a>  <span class="fu">model</span>(<span class="fu">ETS</span>(Exports <span class="sc">~</span> <span class="fu">error</span>(<span class="st">&#39;A&#39;</span>) <span class="sc">+</span> <span class="fu">trend</span>(<span class="st">&#39;N&#39;</span>) <span class="sc">+</span> <span class="fu">season</span>(<span class="st">&#39;N&#39;</span>))) <span class="sc">|&gt;</span></span>
<span id="cb967-5"><a href="exponential-smoothing.html#cb967-5" tabindex="-1"></a>  <span class="fu">forecast</span>(nl) <span class="sc">|&gt;</span></span>
<span id="cb967-6"><a href="exponential-smoothing.html#cb967-6" tabindex="-1"></a>  <span class="fu">accuracy</span>(nl) <span class="sc">|&gt;</span></span>
<span id="cb967-7"><a href="exponential-smoothing.html#cb967-7" tabindex="-1"></a>  <span class="fu">select</span>(RMSE)</span></code></pre></div>
<pre><code>## # A tibble: 1 × 1
##    RMSE
##   &lt;dbl&gt;
## 1  31.7</code></pre>
<div class="sourceCode" id="cb969"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb969-1"><a href="exponential-smoothing.html#cb969-1" tabindex="-1"></a><span class="co"># d. ETS(ANN)</span></span>
<span id="cb969-2"><a href="exponential-smoothing.html#cb969-2" tabindex="-1"></a></span>
<span id="cb969-3"><a href="exponential-smoothing.html#cb969-3" tabindex="-1"></a>nl <span class="sc">|&gt;</span></span>
<span id="cb969-4"><a href="exponential-smoothing.html#cb969-4" tabindex="-1"></a>  <span class="fu">model</span>(</span>
<span id="cb969-5"><a href="exponential-smoothing.html#cb969-5" tabindex="-1"></a>    <span class="at">ANN =</span> <span class="fu">ETS</span>(Exports <span class="sc">~</span> <span class="fu">error</span>(<span class="st">&#39;A&#39;</span>) <span class="sc">+</span> <span class="fu">trend</span>(<span class="st">&#39;N&#39;</span>) <span class="sc">+</span> <span class="fu">season</span>(<span class="st">&#39;N&#39;</span>)),</span>
<span id="cb969-6"><a href="exponential-smoothing.html#cb969-6" tabindex="-1"></a>    <span class="at">AAN =</span> <span class="fu">ETS</span>(Exports <span class="sc">~</span> <span class="fu">error</span>(<span class="st">&#39;A&#39;</span>) <span class="sc">+</span> <span class="fu">trend</span>(<span class="st">&#39;A&#39;</span>) <span class="sc">+</span> <span class="fu">season</span>(<span class="st">&#39;N&#39;</span>))) <span class="sc">|&gt;</span></span>
<span id="cb969-7"><a href="exponential-smoothing.html#cb969-7" tabindex="-1"></a>  <span class="fu">forecast</span>() <span class="sc">|&gt;</span></span>
<span id="cb969-8"><a href="exponential-smoothing.html#cb969-8" tabindex="-1"></a>  <span class="fu">autoplot</span>(nl <span class="sc">|&gt;</span> <span class="fu">filter</span>(Year <span class="sc">&gt;</span> <span class="dv">2010</span>), <span class="at">level =</span> <span class="cn">NULL</span>)</span></code></pre></div>
<p><img src="figure_html/ch08-ts-exp-smoothing-38-1.png" width="672" /></p>
<div class="sourceCode" id="cb970"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb970-1"><a href="exponential-smoothing.html#cb970-1" tabindex="-1"></a>nl <span class="sc">|&gt;</span></span>
<span id="cb970-2"><a href="exponential-smoothing.html#cb970-2" tabindex="-1"></a>  <span class="fu">model</span>(</span>
<span id="cb970-3"><a href="exponential-smoothing.html#cb970-3" tabindex="-1"></a>    <span class="at">ANN =</span> <span class="fu">ETS</span>(Exports <span class="sc">~</span> <span class="fu">error</span>(<span class="st">&#39;A&#39;</span>) <span class="sc">+</span> <span class="fu">trend</span>(<span class="st">&#39;N&#39;</span>) <span class="sc">+</span> <span class="fu">season</span>(<span class="st">&#39;N&#39;</span>)),</span>
<span id="cb970-4"><a href="exponential-smoothing.html#cb970-4" tabindex="-1"></a>    <span class="at">AAN =</span> <span class="fu">ETS</span>(Exports <span class="sc">~</span> <span class="fu">error</span>(<span class="st">&#39;A&#39;</span>) <span class="sc">+</span> <span class="fu">trend</span>(<span class="st">&#39;A&#39;</span>) <span class="sc">+</span> <span class="fu">season</span>(<span class="st">&#39;N&#39;</span>))) <span class="sc">|&gt;</span></span>
<span id="cb970-5"><a href="exponential-smoothing.html#cb970-5" tabindex="-1"></a>  <span class="fu">forecast</span>(nl) <span class="sc">|&gt;</span></span>
<span id="cb970-6"><a href="exponential-smoothing.html#cb970-6" tabindex="-1"></a>  <span class="fu">accuracy</span>(nl) <span class="sc">|&gt;</span></span>
<span id="cb970-7"><a href="exponential-smoothing.html#cb970-7" tabindex="-1"></a>  <span class="fu">select</span>(.model, RMSE)</span></code></pre></div>
<pre><code>## # A tibble: 2 × 2
##   .model  RMSE
##   &lt;chr&gt;  &lt;dbl&gt;
## 1 AAN     49.6
## 2 ANN     31.7</code></pre>
<ol start="6" style="list-style-type: decimal">
<li></li>
</ol>
<div class="sourceCode" id="cb972"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb972-1"><a href="exponential-smoothing.html#cb972-1" tabindex="-1"></a>china <span class="ot">&lt;-</span> global_economy <span class="sc">|&gt;</span></span>
<span id="cb972-2"><a href="exponential-smoothing.html#cb972-2" tabindex="-1"></a>  <span class="fu">filter</span>(Country <span class="sc">==</span> <span class="st">&#39;China&#39;</span>) </span>
<span id="cb972-3"><a href="exponential-smoothing.html#cb972-3" tabindex="-1"></a></span>
<span id="cb972-4"><a href="exponential-smoothing.html#cb972-4" tabindex="-1"></a>china <span class="sc">|&gt;</span></span>
<span id="cb972-5"><a href="exponential-smoothing.html#cb972-5" tabindex="-1"></a>  <span class="fu">autoplot</span>(GDP) <span class="sc">+</span></span>
<span id="cb972-6"><a href="exponential-smoothing.html#cb972-6" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&#39;Chinese GDP&#39;</span>)</span></code></pre></div>
<p><img src="figure_html/ch08-ts-exp-smoothing-40-1.png" width="672" /></p>
<div class="sourceCode" id="cb973"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb973-1"><a href="exponential-smoothing.html#cb973-1" tabindex="-1"></a>fc <span class="ot">&lt;-</span> china <span class="sc">|&gt;</span></span>
<span id="cb973-2"><a href="exponential-smoothing.html#cb973-2" tabindex="-1"></a>  <span class="fu">model</span>(</span>
<span id="cb973-3"><a href="exponential-smoothing.html#cb973-3" tabindex="-1"></a>    <span class="at">ANN =</span> <span class="fu">ETS</span>(GDP <span class="sc">~</span> <span class="fu">error</span>(<span class="st">&#39;A&#39;</span>) <span class="sc">+</span> <span class="fu">trend</span>(<span class="st">&#39;N&#39;</span>) <span class="sc">+</span> <span class="fu">season</span>(<span class="st">&#39;N&#39;</span>)),</span>
<span id="cb973-4"><a href="exponential-smoothing.html#cb973-4" tabindex="-1"></a>    <span class="at">AAN =</span> <span class="fu">ETS</span>(GDP <span class="sc">~</span> <span class="fu">error</span>(<span class="st">&#39;A&#39;</span>) <span class="sc">+</span> <span class="fu">trend</span>(<span class="st">&#39;A&#39;</span>) <span class="sc">+</span> <span class="fu">season</span>(<span class="st">&#39;N&#39;</span>)),</span>
<span id="cb973-5"><a href="exponential-smoothing.html#cb973-5" tabindex="-1"></a>    <span class="at">AAdN =</span> <span class="fu">ETS</span>(GDP <span class="sc">~</span> <span class="fu">error</span>(<span class="st">&#39;A&#39;</span>) <span class="sc">+</span> <span class="fu">trend</span>(<span class="st">&#39;Ad&#39;</span>) <span class="sc">+</span> <span class="fu">season</span>(<span class="st">&#39;N&#39;</span>))</span>
<span id="cb973-6"><a href="exponential-smoothing.html#cb973-6" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb973-7"><a href="exponential-smoothing.html#cb973-7" tabindex="-1"></a>  <span class="fu">forecast</span>(<span class="at">h =</span> <span class="st">&#39;40 years&#39;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb974"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb974-1"><a href="exponential-smoothing.html#cb974-1" tabindex="-1"></a>fc <span class="sc">|&gt;</span></span>
<span id="cb974-2"><a href="exponential-smoothing.html#cb974-2" tabindex="-1"></a>  <span class="fu">autoplot</span>(china, <span class="at">level =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb974-3"><a href="exponential-smoothing.html#cb974-3" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&#39;Chinese GDP forecast&#39;</span>, )</span></code></pre></div>
<p><img src="figure_html/ch08-ts-exp-smoothing-42-1.png" width="672" /></p>
<ol start="7" style="list-style-type: decimal">
<li></li>
</ol>
<div class="sourceCode" id="cb975"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb975-1"><a href="exponential-smoothing.html#cb975-1" tabindex="-1"></a>aus_production <span class="sc">|&gt;</span></span>
<span id="cb975-2"><a href="exponential-smoothing.html#cb975-2" tabindex="-1"></a>  <span class="fu">model</span>(<span class="fu">STL</span>(Gas)) <span class="sc">|&gt;</span></span>
<span id="cb975-3"><a href="exponential-smoothing.html#cb975-3" tabindex="-1"></a>  <span class="fu">components</span>() <span class="sc">|&gt;</span></span>
<span id="cb975-4"><a href="exponential-smoothing.html#cb975-4" tabindex="-1"></a>  <span class="fu">autoplot</span>()</span></code></pre></div>
<p><img src="figure_html/ch08-ts-exp-smoothing-43-1.png" width="672" /></p>
<div class="sourceCode" id="cb976"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb976-1"><a href="exponential-smoothing.html#cb976-1" tabindex="-1"></a><span class="co"># unstable seasonal variance and reminder variance =&gt; multiplicative seasonality is necessary</span></span>
<span id="cb976-2"><a href="exponential-smoothing.html#cb976-2" tabindex="-1"></a>fc <span class="ot">&lt;-</span> aus_production <span class="sc">|&gt;</span></span>
<span id="cb976-3"><a href="exponential-smoothing.html#cb976-3" tabindex="-1"></a>  <span class="fu">model</span>(</span>
<span id="cb976-4"><a href="exponential-smoothing.html#cb976-4" tabindex="-1"></a>    <span class="at">MAM =</span> <span class="fu">ETS</span>(Gas <span class="sc">~</span> <span class="fu">error</span>(<span class="st">&#39;M&#39;</span>) <span class="sc">+</span> <span class="fu">trend</span>(<span class="st">&#39;A&#39;</span>) <span class="sc">+</span> <span class="fu">season</span>(<span class="st">&#39;M&#39;</span>)),</span>
<span id="cb976-5"><a href="exponential-smoothing.html#cb976-5" tabindex="-1"></a>    <span class="at">MAdM =</span> <span class="fu">ETS</span>(Gas <span class="sc">~</span> <span class="fu">error</span>(<span class="st">&#39;M&#39;</span>) <span class="sc">+</span> <span class="fu">trend</span>(<span class="st">&#39;Ad&#39;</span>) <span class="sc">+</span> <span class="fu">season</span>(<span class="st">&#39;M&#39;</span>))</span>
<span id="cb976-6"><a href="exponential-smoothing.html#cb976-6" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb976-7"><a href="exponential-smoothing.html#cb976-7" tabindex="-1"></a>  <span class="fu">forecast</span>(<span class="at">h =</span> <span class="st">&#39;5 years&#39;</span>) </span>
<span id="cb976-8"><a href="exponential-smoothing.html#cb976-8" tabindex="-1"></a></span>
<span id="cb976-9"><a href="exponential-smoothing.html#cb976-9" tabindex="-1"></a>fc <span class="sc">|&gt;</span></span>
<span id="cb976-10"><a href="exponential-smoothing.html#cb976-10" tabindex="-1"></a>  <span class="fu">autoplot</span>(aus_production <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="fu">year</span>(Quarter) <span class="sc">&gt;</span> <span class="dv">2005</span>), <span class="at">level =</span> <span class="cn">NULL</span>)</span></code></pre></div>
<p><img src="figure_html/ch08-ts-exp-smoothing-44-1.png" width="672" /></p>
<div class="sourceCode" id="cb977"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb977-1"><a href="exponential-smoothing.html#cb977-1" tabindex="-1"></a>aus_production <span class="sc">|&gt;</span></span>
<span id="cb977-2"><a href="exponential-smoothing.html#cb977-2" tabindex="-1"></a>  <span class="fu">model</span>(</span>
<span id="cb977-3"><a href="exponential-smoothing.html#cb977-3" tabindex="-1"></a>    <span class="at">MAM =</span> <span class="fu">ETS</span>(Gas <span class="sc">~</span> <span class="fu">error</span>(<span class="st">&#39;M&#39;</span>) <span class="sc">+</span> <span class="fu">trend</span>(<span class="st">&#39;A&#39;</span>) <span class="sc">+</span> <span class="fu">season</span>(<span class="st">&#39;M&#39;</span>)),</span>
<span id="cb977-4"><a href="exponential-smoothing.html#cb977-4" tabindex="-1"></a>    <span class="at">MAdM =</span> <span class="fu">ETS</span>(Gas <span class="sc">~</span> <span class="fu">error</span>(<span class="st">&#39;M&#39;</span>) <span class="sc">+</span> <span class="fu">trend</span>(<span class="st">&#39;Ad&#39;</span>) <span class="sc">+</span> <span class="fu">season</span>(<span class="st">&#39;M&#39;</span>))</span>
<span id="cb977-5"><a href="exponential-smoothing.html#cb977-5" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb977-6"><a href="exponential-smoothing.html#cb977-6" tabindex="-1"></a>  <span class="fu">forecast</span>(aus_production, <span class="at">h =</span> <span class="st">&#39;5 years&#39;</span>) <span class="sc">|&gt;</span></span>
<span id="cb977-7"><a href="exponential-smoothing.html#cb977-7" tabindex="-1"></a>  <span class="fu">accuracy</span>(aus_production)</span></code></pre></div>
<pre><code>## Warning: Input forecast horizon `h` will be ignored as `new_data` has been provided.</code></pre>
<pre><code>## # A tibble: 2 × 10
##   .model .type    ME  RMSE   MAE    MPE  MAPE  MASE RMSSE   ACF1
##   &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
## 1 MAM    Test  -243.  248.  243. -1116. 1116.   NaN   NaN 0.0567
## 2 MAdM   Test  -167.  181.  167. -1027. 1027.   NaN   NaN 0.678</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="time-series-regression-models.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="arima-models.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "subsection"
},
"toolbar": {
"position": "fixed"
},
"info": false
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
